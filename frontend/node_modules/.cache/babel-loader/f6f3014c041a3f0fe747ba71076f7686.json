{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = require(\"prop-types\");\n\nvar constants = _interopRequireWildcard(require(\"focus-lock/constants\"));\n\nvar _useCallbackRef = require(\"use-callback-ref\");\n\nvar _FocusGuard = require(\"./FocusGuard\");\n\nvar _medium = require(\"./medium\");\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        (0, _defineProperty2[\"default\"])(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nvar emptyArray = [];\nvar FocusLock = /*#__PURE__*/React.forwardRef(function FocusLockUI(props, parentRef) {\n  var _objectSpread2;\n\n  var _React$useState = React.useState(),\n      _React$useState2 = (0, _slicedToArray2[\"default\"])(_React$useState, 2),\n      realObserved = _React$useState2[0],\n      setObserved = _React$useState2[1];\n\n  var observed = React.useRef();\n  var isActive = React.useRef(false);\n  var originalFocusedElement = React.useRef(null);\n  var children = props.children,\n      disabled = props.disabled,\n      noFocusGuards = props.noFocusGuards,\n      persistentFocus = props.persistentFocus,\n      crossFrame = props.crossFrame,\n      autoFocus = props.autoFocus,\n      allowTextSelection = props.allowTextSelection,\n      group = props.group,\n      className = props.className,\n      whiteList = props.whiteList,\n      hasPositiveIndices = props.hasPositiveIndices,\n      _props$shards = props.shards,\n      shards = _props$shards === void 0 ? emptyArray : _props$shards,\n      _props$as = props.as,\n      Container = _props$as === void 0 ? 'div' : _props$as,\n      _props$lockProps = props.lockProps,\n      containerProps = _props$lockProps === void 0 ? {} : _props$lockProps,\n      SideCar = props.sideCar,\n      shouldReturnFocus = props.returnFocus,\n      focusOptions = props.focusOptions,\n      onActivationCallback = props.onActivation,\n      onDeactivationCallback = props.onDeactivation;\n\n  var _React$useState3 = React.useState({}),\n      _React$useState4 = (0, _slicedToArray2[\"default\"])(_React$useState3, 1),\n      id = _React$useState4[0]; // SIDE EFFECT CALLBACKS\n\n\n  var onActivation = React.useCallback(function () {\n    originalFocusedElement.current = originalFocusedElement.current || document && document.activeElement;\n\n    if (observed.current && onActivationCallback) {\n      onActivationCallback(observed.current);\n    }\n\n    isActive.current = true;\n  }, [onActivationCallback]);\n  var onDeactivation = React.useCallback(function () {\n    isActive.current = false;\n\n    if (onDeactivationCallback) {\n      onDeactivationCallback(observed.current);\n    }\n  }, [onDeactivationCallback]);\n  (0, React.useEffect)(function () {\n    if (!disabled) {\n      // cleanup return focus on trap deactivation\n      // sideEffect/returnFocus should happen by this time\n      originalFocusedElement.current = null;\n    }\n  }, []);\n  var returnFocus = React.useCallback(function (allowDefer) {\n    var returnFocusTo = originalFocusedElement.current;\n\n    if (returnFocusTo && returnFocusTo.focus) {\n      var howToReturnFocus = typeof shouldReturnFocus === 'function' ? shouldReturnFocus(returnFocusTo) : shouldReturnFocus;\n\n      if (howToReturnFocus) {\n        var returnFocusOptions = (0, _typeof2[\"default\"])(howToReturnFocus) === 'object' ? howToReturnFocus : undefined;\n        originalFocusedElement.current = null;\n\n        if (allowDefer) {\n          // React might return focus after update\n          // it's safer to defer the action\n          Promise.resolve().then(function () {\n            return returnFocusTo.focus(returnFocusOptions);\n          });\n        } else {\n          returnFocusTo.focus(returnFocusOptions);\n        }\n      }\n    }\n  }, [shouldReturnFocus]); // MEDIUM CALLBACKS\n\n  var onFocus = React.useCallback(function (event) {\n    if (isActive.current) {\n      _medium.mediumFocus.useMedium(event);\n    }\n  }, []);\n  var onBlur = _medium.mediumBlur.useMedium; // REF PROPAGATION\n  // not using real refs due to race conditions\n\n  var setObserveNode = React.useCallback(function (newObserved) {\n    if (observed.current !== newObserved) {\n      observed.current = newObserved;\n      setObserved(newObserved);\n    }\n  }, []);\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (typeof allowTextSelection !== 'undefined') {\n      // eslint-disable-next-line no-console\n      console.warn('React-Focus-Lock: allowTextSelection is deprecated and enabled by default');\n    }\n\n    React.useEffect(function () {\n      // report incorrect integration - https://github.com/theKashey/react-focus-lock/issues/123\n      if (!observed.current && typeof Container !== 'string') {\n        // eslint-disable-next-line no-console\n        console.error('FocusLock: could not obtain ref to internal node');\n      }\n    }, []);\n  }\n\n  var lockProps = _objectSpread((_objectSpread2 = {}, (0, _defineProperty2[\"default\"])(_objectSpread2, constants.FOCUS_DISABLED, disabled && 'disabled'), (0, _defineProperty2[\"default\"])(_objectSpread2, constants.FOCUS_GROUP, group), _objectSpread2), containerProps);\n\n  var hasLeadingGuards = noFocusGuards !== true;\n  var hasTailingGuards = hasLeadingGuards && noFocusGuards !== 'tail';\n  var mergedRef = (0, _useCallbackRef.useMergeRefs)([parentRef, setObserveNode]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, hasLeadingGuards && [\n  /*#__PURE__*/\n  // nearest focus guard\n  React.createElement(\"div\", {\n    key: \"guard-first\",\n    \"data-focus-guard\": true,\n    tabIndex: disabled ? -1 : 0,\n    style: _FocusGuard.hiddenGuard\n  }), // first tabbed element guard\n  hasPositiveIndices ? /*#__PURE__*/React.createElement(\"div\", {\n    key: \"guard-nearest\",\n    \"data-focus-guard\": true,\n    tabIndex: disabled ? -1 : 1,\n    style: _FocusGuard.hiddenGuard\n  }) : null], !disabled && /*#__PURE__*/React.createElement(SideCar, {\n    id: id,\n    sideCar: _medium.mediumSidecar,\n    observed: realObserved,\n    disabled: disabled,\n    persistentFocus: persistentFocus,\n    crossFrame: crossFrame,\n    autoFocus: autoFocus,\n    whiteList: whiteList,\n    shards: shards,\n    onActivation: onActivation,\n    onDeactivation: onDeactivation,\n    returnFocus: returnFocus,\n    focusOptions: focusOptions\n  }), /*#__PURE__*/React.createElement(Container, (0, _extends2[\"default\"])({\n    ref: mergedRef\n  }, lockProps, {\n    className: className,\n    onBlur: onBlur,\n    onFocus: onFocus\n  }), children), hasTailingGuards && /*#__PURE__*/React.createElement(\"div\", {\n    \"data-focus-guard\": true,\n    tabIndex: disabled ? -1 : 0,\n    style: _FocusGuard.hiddenGuard\n  }));\n});\nFocusLock.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  children: _propTypes.node,\n  disabled: _propTypes.bool,\n  returnFocus: (0, _propTypes.oneOfType)([_propTypes.bool, _propTypes.object, _propTypes.func]),\n  focusOptions: _propTypes.object,\n  noFocusGuards: _propTypes.bool,\n  hasPositiveIndices: _propTypes.bool,\n  allowTextSelection: _propTypes.bool,\n  autoFocus: _propTypes.bool,\n  persistentFocus: _propTypes.bool,\n  crossFrame: _propTypes.bool,\n  group: _propTypes.string,\n  className: _propTypes.string,\n  whiteList: _propTypes.func,\n  shards: (0, _propTypes.arrayOf)(_propTypes.any),\n  as: (0, _propTypes.oneOfType)([_propTypes.string, _propTypes.func, _propTypes.object]),\n  lockProps: _propTypes.object,\n  onActivation: _propTypes.func,\n  onDeactivation: _propTypes.func,\n  sideCar: _propTypes.any.isRequired\n} : {};\nFocusLock.defaultProps = {\n  children: undefined,\n  disabled: false,\n  returnFocus: false,\n  focusOptions: undefined,\n  noFocusGuards: false,\n  autoFocus: true,\n  persistentFocus: false,\n  crossFrame: true,\n  hasPositiveIndices: undefined,\n  allowTextSelection: undefined,\n  group: undefined,\n  className: undefined,\n  whiteList: undefined,\n  shards: undefined,\n  as: 'div',\n  lockProps: {},\n  onActivation: undefined,\n  onDeactivation: undefined\n};\nvar _default = FocusLock;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["C:/Users/HP/Desktop/pfe/node_modules/react-focus-lock/dist/cjs/Lock.js"],"names":["_interopRequireWildcard","require","_interopRequireDefault","Object","defineProperty","exports","value","_extends2","_defineProperty2","_typeof2","_slicedToArray2","React","_propTypes","constants","_useCallbackRef","_FocusGuard","_medium","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","emptyArray","FocusLock","forwardRef","FocusLockUI","props","parentRef","_objectSpread2","_React$useState","useState","_React$useState2","realObserved","setObserved","observed","useRef","isActive","originalFocusedElement","children","disabled","noFocusGuards","persistentFocus","crossFrame","autoFocus","allowTextSelection","group","className","whiteList","hasPositiveIndices","_props$shards","shards","_props$as","as","Container","_props$lockProps","lockProps","containerProps","SideCar","sideCar","shouldReturnFocus","returnFocus","focusOptions","onActivationCallback","onActivation","onDeactivationCallback","onDeactivation","_React$useState3","_React$useState4","id","useCallback","current","document","activeElement","useEffect","allowDefer","returnFocusTo","focus","howToReturnFocus","returnFocusOptions","undefined","Promise","resolve","then","onFocus","event","mediumFocus","useMedium","onBlur","mediumBlur","setObserveNode","newObserved","process","env","NODE_ENV","console","warn","error","FOCUS_DISABLED","FOCUS_GROUP","hasLeadingGuards","hasTailingGuards","mergedRef","useMergeRefs","createElement","Fragment","tabIndex","style","hiddenGuard","mediumSidecar","ref","propTypes","node","bool","oneOfType","func","string","arrayOf","any","isRequired","defaultProps","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = require(\"prop-types\");\n\nvar constants = _interopRequireWildcard(require(\"focus-lock/constants\"));\n\nvar _useCallbackRef = require(\"use-callback-ref\");\n\nvar _FocusGuard = require(\"./FocusGuard\");\n\nvar _medium = require(\"./medium\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar emptyArray = [];\nvar FocusLock = /*#__PURE__*/React.forwardRef(function FocusLockUI(props, parentRef) {\n  var _objectSpread2;\n\n  var _React$useState = React.useState(),\n      _React$useState2 = (0, _slicedToArray2[\"default\"])(_React$useState, 2),\n      realObserved = _React$useState2[0],\n      setObserved = _React$useState2[1];\n\n  var observed = React.useRef();\n  var isActive = React.useRef(false);\n  var originalFocusedElement = React.useRef(null);\n  var children = props.children,\n      disabled = props.disabled,\n      noFocusGuards = props.noFocusGuards,\n      persistentFocus = props.persistentFocus,\n      crossFrame = props.crossFrame,\n      autoFocus = props.autoFocus,\n      allowTextSelection = props.allowTextSelection,\n      group = props.group,\n      className = props.className,\n      whiteList = props.whiteList,\n      hasPositiveIndices = props.hasPositiveIndices,\n      _props$shards = props.shards,\n      shards = _props$shards === void 0 ? emptyArray : _props$shards,\n      _props$as = props.as,\n      Container = _props$as === void 0 ? 'div' : _props$as,\n      _props$lockProps = props.lockProps,\n      containerProps = _props$lockProps === void 0 ? {} : _props$lockProps,\n      SideCar = props.sideCar,\n      shouldReturnFocus = props.returnFocus,\n      focusOptions = props.focusOptions,\n      onActivationCallback = props.onActivation,\n      onDeactivationCallback = props.onDeactivation;\n\n  var _React$useState3 = React.useState({}),\n      _React$useState4 = (0, _slicedToArray2[\"default\"])(_React$useState3, 1),\n      id = _React$useState4[0]; // SIDE EFFECT CALLBACKS\n\n\n  var onActivation = React.useCallback(function () {\n    originalFocusedElement.current = originalFocusedElement.current || document && document.activeElement;\n\n    if (observed.current && onActivationCallback) {\n      onActivationCallback(observed.current);\n    }\n\n    isActive.current = true;\n  }, [onActivationCallback]);\n  var onDeactivation = React.useCallback(function () {\n    isActive.current = false;\n\n    if (onDeactivationCallback) {\n      onDeactivationCallback(observed.current);\n    }\n  }, [onDeactivationCallback]);\n  (0, React.useEffect)(function () {\n    if (!disabled) {\n      // cleanup return focus on trap deactivation\n      // sideEffect/returnFocus should happen by this time\n      originalFocusedElement.current = null;\n    }\n  }, []);\n  var returnFocus = React.useCallback(function (allowDefer) {\n    var returnFocusTo = originalFocusedElement.current;\n\n    if (returnFocusTo && returnFocusTo.focus) {\n      var howToReturnFocus = typeof shouldReturnFocus === 'function' ? shouldReturnFocus(returnFocusTo) : shouldReturnFocus;\n\n      if (howToReturnFocus) {\n        var returnFocusOptions = (0, _typeof2[\"default\"])(howToReturnFocus) === 'object' ? howToReturnFocus : undefined;\n        originalFocusedElement.current = null;\n\n        if (allowDefer) {\n          // React might return focus after update\n          // it's safer to defer the action\n          Promise.resolve().then(function () {\n            return returnFocusTo.focus(returnFocusOptions);\n          });\n        } else {\n          returnFocusTo.focus(returnFocusOptions);\n        }\n      }\n    }\n  }, [shouldReturnFocus]); // MEDIUM CALLBACKS\n\n  var onFocus = React.useCallback(function (event) {\n    if (isActive.current) {\n      _medium.mediumFocus.useMedium(event);\n    }\n  }, []);\n  var onBlur = _medium.mediumBlur.useMedium; // REF PROPAGATION\n  // not using real refs due to race conditions\n\n  var setObserveNode = React.useCallback(function (newObserved) {\n    if (observed.current !== newObserved) {\n      observed.current = newObserved;\n      setObserved(newObserved);\n    }\n  }, []);\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (typeof allowTextSelection !== 'undefined') {\n      // eslint-disable-next-line no-console\n      console.warn('React-Focus-Lock: allowTextSelection is deprecated and enabled by default');\n    }\n\n    React.useEffect(function () {\n      // report incorrect integration - https://github.com/theKashey/react-focus-lock/issues/123\n      if (!observed.current && typeof Container !== 'string') {\n        // eslint-disable-next-line no-console\n        console.error('FocusLock: could not obtain ref to internal node');\n      }\n    }, []);\n  }\n\n  var lockProps = _objectSpread((_objectSpread2 = {}, (0, _defineProperty2[\"default\"])(_objectSpread2, constants.FOCUS_DISABLED, disabled && 'disabled'), (0, _defineProperty2[\"default\"])(_objectSpread2, constants.FOCUS_GROUP, group), _objectSpread2), containerProps);\n\n  var hasLeadingGuards = noFocusGuards !== true;\n  var hasTailingGuards = hasLeadingGuards && noFocusGuards !== 'tail';\n  var mergedRef = (0, _useCallbackRef.useMergeRefs)([parentRef, setObserveNode]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, hasLeadingGuards && [\n  /*#__PURE__*/\n  // nearest focus guard\n  React.createElement(\"div\", {\n    key: \"guard-first\",\n    \"data-focus-guard\": true,\n    tabIndex: disabled ? -1 : 0,\n    style: _FocusGuard.hiddenGuard\n  }), // first tabbed element guard\n  hasPositiveIndices ? /*#__PURE__*/React.createElement(\"div\", {\n    key: \"guard-nearest\",\n    \"data-focus-guard\": true,\n    tabIndex: disabled ? -1 : 1,\n    style: _FocusGuard.hiddenGuard\n  }) : null], !disabled && /*#__PURE__*/React.createElement(SideCar, {\n    id: id,\n    sideCar: _medium.mediumSidecar,\n    observed: realObserved,\n    disabled: disabled,\n    persistentFocus: persistentFocus,\n    crossFrame: crossFrame,\n    autoFocus: autoFocus,\n    whiteList: whiteList,\n    shards: shards,\n    onActivation: onActivation,\n    onDeactivation: onDeactivation,\n    returnFocus: returnFocus,\n    focusOptions: focusOptions\n  }), /*#__PURE__*/React.createElement(Container, (0, _extends2[\"default\"])({\n    ref: mergedRef\n  }, lockProps, {\n    className: className,\n    onBlur: onBlur,\n    onFocus: onFocus\n  }), children), hasTailingGuards && /*#__PURE__*/React.createElement(\"div\", {\n    \"data-focus-guard\": true,\n    tabIndex: disabled ? -1 : 0,\n    style: _FocusGuard.hiddenGuard\n  }));\n});\nFocusLock.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  children: _propTypes.node,\n  disabled: _propTypes.bool,\n  returnFocus: (0, _propTypes.oneOfType)([_propTypes.bool, _propTypes.object, _propTypes.func]),\n  focusOptions: _propTypes.object,\n  noFocusGuards: _propTypes.bool,\n  hasPositiveIndices: _propTypes.bool,\n  allowTextSelection: _propTypes.bool,\n  autoFocus: _propTypes.bool,\n  persistentFocus: _propTypes.bool,\n  crossFrame: _propTypes.bool,\n  group: _propTypes.string,\n  className: _propTypes.string,\n  whiteList: _propTypes.func,\n  shards: (0, _propTypes.arrayOf)(_propTypes.any),\n  as: (0, _propTypes.oneOfType)([_propTypes.string, _propTypes.func, _propTypes.object]),\n  lockProps: _propTypes.object,\n  onActivation: _propTypes.func,\n  onDeactivation: _propTypes.func,\n  sideCar: _propTypes.any.isRequired\n} : {};\nFocusLock.defaultProps = {\n  children: undefined,\n  disabled: false,\n  returnFocus: false,\n  focusOptions: undefined,\n  noFocusGuards: false,\n  autoFocus: true,\n  persistentFocus: false,\n  crossFrame: true,\n  hasPositiveIndices: undefined,\n  allowTextSelection: undefined,\n  group: undefined,\n  className: undefined,\n  whiteList: undefined,\n  shards: undefined,\n  as: 'div',\n  lockProps: {},\n  onActivation: undefined,\n  onDeactivation: undefined\n};\nvar _default = FocusLock;\nexports[\"default\"] = _default;"]},"metadata":{},"sourceType":"script"}