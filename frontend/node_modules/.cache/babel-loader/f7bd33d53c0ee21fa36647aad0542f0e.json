{"ast":null,"code":"(() => {\n  \"use strict\";\n\n  var e = {\n    n: t => {\n      var r = t && t.__esModule ? () => t.default : () => t;\n      return e.d(r, {\n        a: r\n      }), r;\n    },\n    d: (t, r) => {\n      for (var a in r) e.o(r, a) && !e.o(t, a) && Object.defineProperty(t, a, {\n        enumerable: !0,\n        get: r[a]\n      });\n    },\n    o: (e, t) => Object.prototype.hasOwnProperty.call(e, t),\n    r: e => {\n      \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {\n        value: \"Module\"\n      }), Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      });\n    }\n  },\n      t = {};\n  e.r(t), e.d(t, {\n    Chatbot: () => B,\n    createChatBotMessage: () => i,\n    createClientMessage: () => u,\n    createCustomMessage: () => l,\n    default: () => H,\n    useChatbot: () => T\n  });\n\n  const r = require(\"react\");\n\n  var a = e.n(r);\n\n  const n = require(\"react-conditionally-render\");\n\n  var o = e.n(n),\n      s = function () {\n    return s = Object.assign || function (e) {\n      for (var t, r = 1, a = arguments.length; r < a; r++) for (var n in t = arguments[r]) Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);\n\n      return e;\n    }, s.apply(this, arguments);\n  },\n      c = function (e, t) {\n    return {\n      message: e,\n      type: t,\n      id: Math.round(Date.now() * Math.random())\n    };\n  },\n      i = function (e, t) {\n    return s(s(s({}, c(e, \"bot\")), t), {\n      loading: !0\n    });\n  },\n      l = function (e, t, r) {\n    return s(s({}, c(e, t)), r);\n  },\n      u = function (e, t) {\n    return s(s({}, c(e, \"user\")), t);\n  },\n      m = function (e) {\n    for (var t = [], r = 1; r < arguments.length; r++) t[r - 1] = arguments[r];\n\n    if (e) return e.apply(void 0, t);\n  };\n\n  function d() {\n    return d = Object.assign || function (e) {\n      for (var t = 1; t < arguments.length; t++) {\n        var r = arguments[t];\n\n        for (var a in r) Object.prototype.hasOwnProperty.call(r, a) && (e[a] = r[a]);\n      }\n\n      return e;\n    }, d.apply(this, arguments);\n  }\n\n  const g = ({\n    styles: e = {},\n    ...t\n  }) => a().createElement(\"svg\", d({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\"\n  }, t), a().createElement(\"path\", {\n    d: \"M256 288c79.5 0 144-64.5 144-144S335.5 0 256 0 112 64.5 112 144s64.5 144 144 144zm128 32h-55.1c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16H128C57.3 320 0 377.3 0 448v16c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48v-16c0-70.7-57.3-128-128-128z\"\n  })),\n        f = function (e) {\n    var t = e.message,\n        r = e.customComponents;\n    return a().createElement(\"div\", {\n      className: \"react-chatbot-kit-user-chat-message-container\"\n    }, a().createElement(o(), {\n      condition: !!r.userChatMessage,\n      show: m(r.userChatMessage, {\n        message: t\n      }),\n      elseShow: a().createElement(\"div\", {\n        className: \"react-chatbot-kit-user-chat-message\"\n      }, t, a().createElement(\"div\", {\n        className: \"react-chatbot-kit-user-chat-message-arrow\"\n      }))\n    }), a().createElement(o(), {\n      condition: !!r.userAvatar,\n      show: m(r.userAvatar),\n      elseShow: a().createElement(\"div\", {\n        className: \"react-chatbot-kit-user-avatar\"\n      }, a().createElement(\"div\", {\n        className: \"react-chatbot-kit-user-avatar-container\"\n      }, a().createElement(g, {\n        className: \"react-chatbot-kit-user-avatar-icon\"\n      })))\n    }));\n  },\n        h = function () {\n    return a().createElement(\"div\", {\n      className: \"react-chatbot-kit-chat-bot-avatar\"\n    }, a().createElement(\"div\", {\n      className: \"react-chatbot-kit-chat-bot-avatar-container\"\n    }, a().createElement(\"p\", {\n      className: \"react-chatbot-kit-chat-bot-avatar-letter\"\n    }, \"B\")));\n  },\n        p = function () {\n    return a().createElement(\"div\", {\n      className: \"chatbot-loader-container\"\n    }, a().createElement(\"svg\", {\n      id: \"dots\",\n      width: \"50px\",\n      height: \"21px\",\n      viewBox: \"0 0 132 58\",\n      version: \"1.1\",\n      xmlns: \"http://www.w3.org/2000/svg\"\n    }, a().createElement(\"g\", {\n      stroke: \"none\",\n      fill: \"none\"\n    }, a().createElement(\"g\", {\n      id: \"chatbot-loader\",\n      fill: \"#fff\"\n    }, a().createElement(\"circle\", {\n      id: \"chatbot-loader-dot1\",\n      cx: \"25\",\n      cy: \"30\",\n      r: \"13\"\n    }), a().createElement(\"circle\", {\n      id: \"chatbot-loader-dot2\",\n      cx: \"65\",\n      cy: \"30\",\n      r: \"13\"\n    }), a().createElement(\"circle\", {\n      id: \"chatbot-loader-dot3\",\n      cx: \"105\",\n      cy: \"30\",\n      r: \"13\"\n    })))));\n  };\n\n  var v = function () {\n    return v = Object.assign || function (e) {\n      for (var t, r = 1, a = arguments.length; r < a; r++) for (var n in t = arguments[r]) Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);\n\n      return e;\n    }, v.apply(this, arguments);\n  };\n\n  const y = function (e) {\n    var t = e.message,\n        n = e.withAvatar,\n        s = void 0 === n || n,\n        c = e.loading,\n        i = e.messages,\n        l = e.customComponents,\n        u = e.setState,\n        d = e.customStyles,\n        g = e.delay,\n        f = e.id,\n        y = (0, r.useState)(!1),\n        b = y[0],\n        w = y[1];\n    (0, r.useEffect)(function () {\n      var e;\n      return function (t, r) {\n        var a = 750;\n        g && (a += g), e = setTimeout(function () {\n          var e = function (e, t, r) {\n            if (r || 2 === arguments.length) for (var a, n = 0, o = t.length; n < o; n++) !a && n in t || (a || (a = Array.prototype.slice.call(t, 0, n)), a[n] = t[n]);\n            return e.concat(a || Array.prototype.slice.call(t));\n          }([], t, !0).find(function (e) {\n            return e.id === f;\n          });\n\n          e && (e.loading = !1, e.delay = void 0, r(function (t) {\n            var r = t.messages,\n                a = r.findIndex(function (e) {\n              return e.id === f;\n            });\n            return r[a] = e, v(v({}, t), {\n              messages: r\n            });\n          }));\n        }, a);\n      }(i, u), function () {\n        clearTimeout(e);\n      };\n    }, [g, f]), (0, r.useEffect)(function () {\n      g ? setTimeout(function () {\n        return w(!0);\n      }, g) : w(!0);\n    }, [g]);\n    var E = {\n      backgroundColor: \"\"\n    },\n        P = {\n      borderRightColor: \"\"\n    };\n    return d && (E.backgroundColor = d.backgroundColor, P.borderRightColor = d.backgroundColor), a().createElement(o(), {\n      condition: b,\n      show: a().createElement(\"div\", {\n        className: \"react-chatbot-kit-chat-bot-message-container\"\n      }, a().createElement(o(), {\n        condition: s,\n        show: a().createElement(o(), {\n          condition: !!(null == l ? void 0 : l.botAvatar),\n          show: m(null == l ? void 0 : l.botAvatar),\n          elseShow: a().createElement(h, null)\n        })\n      }), a().createElement(o(), {\n        condition: !!(null == l ? void 0 : l.botChatMessage),\n        show: m(null == l ? void 0 : l.botChatMessage, {\n          message: t,\n          loader: a().createElement(p, null)\n        }),\n        elseShow: a().createElement(\"div\", {\n          className: \"react-chatbot-kit-chat-bot-message\",\n          style: E\n        }, a().createElement(o(), {\n          condition: c,\n          show: a().createElement(p, null),\n          elseShow: a().createElement(\"span\", null, t)\n        }), a().createElement(o(), {\n          condition: s,\n          show: a().createElement(\"div\", {\n            className: \"react-chatbot-kit-chat-bot-message-arrow\",\n            style: P\n          })\n        }))\n      }))\n    });\n  };\n\n  function b() {\n    return b = Object.assign || function (e) {\n      for (var t = 1; t < arguments.length; t++) {\n        var r = arguments[t];\n\n        for (var a in r) Object.prototype.hasOwnProperty.call(r, a) && (e[a] = r[a]);\n      }\n\n      return e;\n    }, b.apply(this, arguments);\n  }\n\n  const w = ({\n    styles: e = {},\n    ...t\n  }) => a().createElement(\"svg\", b({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\"\n  }, t), a().createElement(\"path\", {\n    d: \"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z\"\n  }));\n\n  var E = function () {\n    return E = Object.assign || function (e) {\n      for (var t, r = 1, a = arguments.length; r < a; r++) for (var n in t = arguments[r]) Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);\n\n      return e;\n    }, E.apply(this, arguments);\n  },\n      P = function (e, t, r) {\n    if (r || 2 === arguments.length) for (var a, n = 0, o = t.length; n < o; n++) !a && n in t || (a || (a = Array.prototype.slice.call(t, 0, n)), a[n] = t[n]);\n    return e.concat(a || Array.prototype.slice.call(t));\n  };\n\n  const S = function (e) {\n    var t = e.state,\n        n = e.setState,\n        s = e.widgetRegistry,\n        i = e.messageParser,\n        l = e.parse,\n        u = e.customComponents,\n        m = e.actionProvider,\n        d = e.botName,\n        g = e.customStyles,\n        h = e.headerText,\n        p = e.customMessages,\n        v = e.placeholderText,\n        b = e.validator,\n        S = e.setMessageContainerRef,\n        O = e.disableScrollToBottom,\n        M = e.messageHistory,\n        k = e.actions,\n        C = t.messages,\n        N = (0, r.useRef)(null),\n        x = (0, r.useState)(\"\"),\n        j = x[0],\n        T = x[1],\n        A = function () {\n      setTimeout(function () {\n        var e;\n        N.current && (N.current.scrollTop = null === (e = null == N ? void 0 : N.current) || void 0 === e ? void 0 : e.scrollHeight);\n      }, 50);\n    };\n\n    (0, r.useEffect)(function () {\n      O || A();\n    }), (0, r.useEffect)(function () {\n      S(N);\n    }, [N.current]);\n\n    var B = function () {\n      n(function (e) {\n        return E(E({}, e), {\n          messages: P(P([], e.messages, !0), [c(j, \"user\")], !1)\n        });\n      }), A(), T(\"\");\n    },\n        H = {\n      backgroundColor: \"\"\n    };\n\n    g && g.chatButton && (H.backgroundColor = g.chatButton.backgroundColor);\n    var I = \"Conversation with \" + d;\n    h && (I = h);\n    var R = \"Write your message here\";\n    return v && (R = v), a().createElement(\"div\", {\n      className: \"react-chatbot-kit-chat-container\"\n    }, a().createElement(\"div\", {\n      className: \"react-chatbot-kit-chat-inner-container\"\n    }, a().createElement(o(), {\n      condition: !!u.header,\n      show: u.header && u.header(m),\n      elseShow: a().createElement(\"div\", {\n        className: \"react-chatbot-kit-chat-header\"\n      }, I)\n    }), a().createElement(\"div\", {\n      className: \"react-chatbot-kit-chat-message-container\",\n      ref: N\n    }, a().createElement(o(), {\n      condition: \"string\" == typeof M && Boolean(M),\n      show: a().createElement(\"div\", {\n        dangerouslySetInnerHTML: {\n          __html: M\n        }\n      })\n    }), C.map(function (e, r) {\n      return \"bot\" === e.type ? a().createElement(a().Fragment, {\n        key: e.id\n      }, function (e, r) {\n        var c;\n        c = e.withAvatar ? e.withAvatar : function (e, t) {\n          if (0 === t) return !0;\n          var r = e[t - 1];\n          return !(\"bot\" === r.type && !r.widget);\n        }(C, r);\n        var i = E(E({}, e), {\n          setState: n,\n          state: t,\n          customComponents: u,\n          widgetRegistry: s,\n          messages: C,\n          actions: k\n        });\n\n        if (e.widget) {\n          var l = s.getWidget(i.widget, E(E({}, t), {\n            scrollIntoView: A,\n            payload: e.payload,\n            actions: k\n          }));\n          return a().createElement(a().Fragment, null, a().createElement(y, E({\n            customStyles: g.botMessageBox,\n            withAvatar: c\n          }, i, {\n            key: e.id\n          })), a().createElement(o(), {\n            condition: !i.loading,\n            show: l || null\n          }));\n        }\n\n        return a().createElement(y, E({\n          customStyles: g.botMessageBox,\n          key: e.id,\n          withAvatar: c\n        }, i, {\n          customComponents: u,\n          messages: C,\n          setState: n\n        }));\n      }(e, r)) : \"user\" === e.type ? a().createElement(a().Fragment, {\n        key: e.id\n      }, function (e) {\n        var r = s.getWidget(e.widget, E(E({}, t), {\n          scrollIntoView: A,\n          payload: e.payload,\n          actions: k\n        }));\n        return a().createElement(a().Fragment, null, a().createElement(f, {\n          message: e.message,\n          key: e.id,\n          customComponents: u\n        }), r || null);\n      }(e)) : function (e, t) {\n        return !!t[e.type];\n      }(e, p) ? a().createElement(a().Fragment, {\n        key: e.id\n      }, function (e) {\n        var r = p[e.type],\n            o = {\n          setState: n,\n          state: t,\n          scrollIntoView: A,\n          actionProvider: m,\n          payload: e.payload,\n          actions: k\n        };\n\n        if (e.widget) {\n          var c = s.getWidget(e.widget, E(E({}, t), {\n            scrollIntoView: A,\n            payload: e.payload,\n            actions: k\n          }));\n          return a().createElement(a().Fragment, null, r(o), c || null);\n        }\n\n        return r(o);\n      }(e)) : void 0;\n    }), a().createElement(\"div\", {\n      style: {\n        paddingBottom: \"15px\"\n      }\n    })), a().createElement(\"div\", {\n      className: \"react-chatbot-kit-chat-input-container\"\n    }, a().createElement(\"form\", {\n      className: \"react-chatbot-kit-chat-input-form\",\n      onSubmit: function (e) {\n        if (e.preventDefault(), b && \"function\" == typeof b) {\n          if (b(j)) {\n            if (B(), l) return l(j);\n            i.parse(j);\n          }\n        } else {\n          if (B(), l) return l(j);\n          i.parse(j);\n        }\n      }\n    }, a().createElement(\"input\", {\n      className: \"react-chatbot-kit-chat-input\",\n      placeholder: R,\n      value: j,\n      onChange: function (e) {\n        return T(e.target.value);\n      }\n    }), a().createElement(\"button\", {\n      className: \"react-chatbot-kit-chat-btn-send\",\n      style: H\n    }, a().createElement(w, {\n      className: \"react-chatbot-kit-chat-btn-send-icon\"\n    }))))));\n  },\n        O = function (e) {\n    var t = e.message;\n    return a().createElement(\"div\", {\n      className: \"react-chatbot-kit-error\"\n    }, a().createElement(\"h1\", {\n      className: \"react-chatbot-kit-error-header\"\n    }, \"Ooops. Something is missing.\"), a().createElement(\"div\", {\n      className: \"react-chatbot-kit-error-container\"\n    }, a().createElement(y, {\n      message: t,\n      withAvatar: !0,\n      loading: !1,\n      id: 1,\n      customStyles: {\n        backgroundColor: \"\"\n      },\n      messages: []\n    })), a().createElement(\"a\", {\n      href: \"https://fredrikoseberg.github.io/react-chatbot-kit-docs/\",\n      rel: \"noopener norefferer\",\n      target: \"_blank\",\n      className: \"react-chatbot-kit-error-docs\"\n    }, \"View the docs\"));\n  };\n\n  var M = function (e) {\n    return e.widgets ? e.widgets : [];\n  },\n      k = function (e) {\n    try {\n      new e();\n    } catch (e) {\n      return !1;\n    }\n\n    return !0;\n  },\n      C = function () {\n    return C = Object.assign || function (e) {\n      for (var t, r = 1, a = arguments.length; r < a; r++) for (var n in t = arguments[r]) Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);\n\n      return e;\n    }, C.apply(this, arguments);\n  };\n\n  const N = function (e, t) {\n    var r = this;\n    this.addWidget = function (e, t) {\n      var a = e.widgetName,\n          n = e.widgetFunc,\n          o = e.mapStateToProps,\n          s = e.props;\n      r[a] = {\n        widget: n,\n        props: s,\n        mapStateToProps: o,\n        parentProps: C({}, t)\n      };\n    }, this.getWidget = function (e, t) {\n      var a = r[e];\n\n      if (a) {\n        var n,\n            o = C(C(C(C({\n          scrollIntoView: t.scrollIntoView\n        }, a.parentProps), \"object\" == typeof (n = a.props) ? n : {}), r.mapStateToProps(a.mapStateToProps, t)), {\n          setState: r.setState,\n          actionProvider: r.actionProvider || t.actions,\n          actions: t.actions,\n          state: t,\n          payload: t.payload\n        });\n        return a.widget(o) || null;\n      }\n    }, this.mapStateToProps = function (e, t) {\n      if (e) return e.reduce(function (e, r) {\n        return e[r] = t[r], e;\n      }, {});\n    }, this.setState = e, this.actionProvider = t;\n  };\n\n  var x = function () {\n    return x = Object.assign || function (e) {\n      for (var t, r = 1, a = arguments.length; r < a; r++) for (var n in t = arguments[r]) Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);\n\n      return e;\n    }, x.apply(this, arguments);\n  },\n      j = function (e, t, r) {\n    if (r || 2 === arguments.length) for (var a, n = 0, o = t.length; n < o; n++) !a && n in t || (a || (a = Array.prototype.slice.call(t, 0, n)), a[n] = t[n]);\n    return e.concat(a || Array.prototype.slice.call(t));\n  };\n\n  const T = function (e) {\n    var t = e.config,\n        n = e.actionProvider,\n        o = e.messageParser,\n        s = e.messageHistory,\n        c = e.runInitialMessagesWithHistory,\n        m = e.saveMessages,\n        d = function (e, t) {\n      var r = {};\n\n      for (var a in e) Object.prototype.hasOwnProperty.call(e, a) && t.indexOf(a) < 0 && (r[a] = e[a]);\n\n      if (null != e && \"function\" == typeof Object.getOwnPropertySymbols) {\n        var n = 0;\n\n        for (a = Object.getOwnPropertySymbols(e); n < a.length; n++) t.indexOf(a[n]) < 0 && Object.prototype.propertyIsEnumerable.call(e, a[n]) && (r[a[n]] = e[a[n]]);\n      }\n\n      return r;\n    }(e, [\"config\", \"actionProvider\", \"messageParser\", \"messageHistory\", \"runInitialMessagesWithHistory\", \"saveMessages\"]),\n        g = \"\",\n        f = \"\";\n\n    if (!t || !n || !o) return {\n      configurationError: g = \"I think you forgot to feed me some props. Did you remember to pass a config, a messageparser and an actionprovider?\"\n    };\n\n    var h = function (e, t) {\n      var r = [];\n      return e.initialMessages || r.push(\"Config must contain property 'initialMessages', and it expects it to be an array of chatbotmessages.\"), r;\n    }(t);\n\n    if (h.length) return {\n      invalidPropsError: f = h.reduce(function (e, t) {\n        return e + t;\n      }, \"\")\n    };\n\n    var p = (0, r.useState)({}),\n        v = p[0],\n        y = p[1],\n        b = function (e) {\n      return e.state ? e.state : {};\n    }(t);\n\n    s && Array.isArray(s) ? t.initialMessages = j([], s, !0) : \"string\" == typeof s && Boolean(s) && (c || (t.initialMessages = []));\n    var w,\n        E,\n        P,\n        S = a().useState(x({\n      messages: j([], t.initialMessages, !0)\n    }, b)),\n        O = S[0],\n        C = S[1],\n        T = a().useRef(O.messages),\n        A = a().useRef();\n    (0, r.useEffect)(function () {\n      T.current = O.messages;\n    }), (0, r.useEffect)(function () {\n      s && Array.isArray(s) && C(function (e) {\n        return x(x({}, e), {\n          messages: s\n        });\n      });\n    }, []), (0, r.useEffect)(function () {\n      return function () {\n        var e;\n\n        if (m && \"function\" == typeof m) {\n          var t = null === (e = null == v ? void 0 : v.current) || void 0 === e ? void 0 : e.innerHTML.toString();\n          if (!v.current) return;\n          m(T.current, t);\n        }\n      };\n    }, [v.current]), (0, r.useEffect)(function () {\n      A.current = O;\n    }, [O]);\n    var B = n,\n        H = o;\n    return k(B) && k(H) ? (w = new n(i, C, u, A.current, l, d), E = new N(C, w), P = new o(w, A.current), M(t).forEach(function (e) {\n      return null == E ? void 0 : E.addWidget(e, d);\n    })) : (w = n, P = o, E = new N(C, null), M(t).forEach(function (e) {\n      return null == E ? void 0 : E.addWidget(e, d);\n    })), {\n      widgetRegistry: E,\n      actionProv: w,\n      messagePars: P,\n      configurationError: g,\n      invalidPropsError: f,\n      state: O,\n      setState: C,\n      setMessageContainerRef: y,\n      ActionProvider: B,\n      MessageParser: H\n    };\n  };\n\n  var A = function () {\n    return A = Object.assign || function (e) {\n      for (var t, r = 1, a = arguments.length; r < a; r++) for (var n in t = arguments[r]) Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);\n\n      return e;\n    }, A.apply(this, arguments);\n  };\n\n  const B = function (e) {\n    var t = e.actionProvider,\n        r = e.messageParser,\n        n = e.config,\n        o = e.headerText,\n        s = e.placeholderText,\n        c = e.saveMessages,\n        l = e.messageHistory,\n        u = e.runInitialMessagesWithHistory,\n        m = e.disableScrollToBottom,\n        d = e.validator,\n        g = function (e, t) {\n      var r = {};\n\n      for (var a in e) Object.prototype.hasOwnProperty.call(e, a) && t.indexOf(a) < 0 && (r[a] = e[a]);\n\n      if (null != e && \"function\" == typeof Object.getOwnPropertySymbols) {\n        var n = 0;\n\n        for (a = Object.getOwnPropertySymbols(e); n < a.length; n++) t.indexOf(a[n]) < 0 && Object.prototype.propertyIsEnumerable.call(e, a[n]) && (r[a[n]] = e[a[n]]);\n      }\n\n      return r;\n    }(e, [\"actionProvider\", \"messageParser\", \"config\", \"headerText\", \"placeholderText\", \"saveMessages\", \"messageHistory\", \"runInitialMessagesWithHistory\", \"disableScrollToBottom\", \"validator\"]),\n        f = T(A({\n      config: n,\n      actionProvider: t,\n      messageParser: r,\n      messageHistory: l,\n      saveMessages: c,\n      runInitialMessagesWithHistory: u\n    }, g)),\n        h = f.configurationError,\n        p = f.invalidPropsError,\n        v = f.ActionProvider,\n        y = f.MessageParser,\n        b = f.widgetRegistry,\n        w = f.actionProv,\n        E = f.messagePars,\n        P = f.state,\n        M = f.setState,\n        C = f.setMessageContainerRef;\n\n    if (h) return a().createElement(O, {\n      message: h\n    });\n    if (p.length) return a().createElement(O, {\n      message: p\n    });\n\n    var N = function (e) {\n      return e.customStyles ? e.customStyles : {};\n    }(n),\n        x = function (e) {\n      return e.customComponents ? e.customComponents : {};\n    }(n),\n        j = function (e) {\n      return e.botName ? e.botName : \"Bot\";\n    }(n),\n        B = function (e) {\n      return e.customMessages ? e.customMessages : {};\n    }(n);\n\n    return k(v) && k(y) ? a().createElement(S, {\n      state: P,\n      setState: M,\n      widgetRegistry: b,\n      actionProvider: w,\n      messageParser: E,\n      customMessages: B,\n      customComponents: A({}, x),\n      botName: j,\n      customStyles: A({}, N),\n      headerText: o,\n      placeholderText: s,\n      setMessageContainerRef: C,\n      validator: d,\n      messageHistory: l,\n      disableScrollToBottom: m\n    }) : a().createElement(v, {\n      setState: M,\n      createChatBotMessage: i\n    }, a().createElement(y, null, a().createElement(S, {\n      state: P,\n      setState: M,\n      widgetRegistry: b,\n      actionProvider: v,\n      messageParser: y,\n      customMessages: B,\n      customComponents: A({}, x),\n      botName: j,\n      customStyles: A({}, N),\n      headerText: o,\n      placeholderText: s,\n      setMessageContainerRef: C,\n      validator: d,\n      messageHistory: l,\n      disableScrollToBottom: m\n    })));\n  },\n        H = B;\n\n  module.exports = t;\n})();","map":{"version":3,"sources":["C:/Users/HP/Desktop/pfe/node_modules/react-chatbot-kit/build/index.js"],"names":["e","n","t","r","__esModule","default","d","a","o","Object","defineProperty","enumerable","get","prototype","hasOwnProperty","call","Symbol","toStringTag","value","Chatbot","B","createChatBotMessage","i","createClientMessage","u","createCustomMessage","l","H","useChatbot","T","require","s","assign","arguments","length","apply","c","message","type","id","Math","round","Date","now","random","loading","m","g","styles","createElement","xmlns","viewBox","f","customComponents","className","condition","userChatMessage","show","elseShow","userAvatar","h","p","width","height","version","stroke","fill","cx","cy","v","y","withAvatar","messages","setState","customStyles","delay","useState","b","w","useEffect","setTimeout","Array","slice","concat","find","findIndex","clearTimeout","E","backgroundColor","P","borderRightColor","botAvatar","botChatMessage","loader","style","S","state","widgetRegistry","messageParser","parse","actionProvider","botName","headerText","customMessages","placeholderText","validator","setMessageContainerRef","O","disableScrollToBottom","M","messageHistory","k","actions","C","N","useRef","x","j","A","current","scrollTop","scrollHeight","chatButton","I","R","header","ref","Boolean","dangerouslySetInnerHTML","__html","map","Fragment","key","widget","getWidget","scrollIntoView","payload","botMessageBox","paddingBottom","onSubmit","preventDefault","placeholder","onChange","target","href","rel","widgets","addWidget","widgetName","widgetFunc","mapStateToProps","props","parentProps","reduce","config","runInitialMessagesWithHistory","saveMessages","indexOf","getOwnPropertySymbols","propertyIsEnumerable","configurationError","initialMessages","push","invalidPropsError","isArray","innerHTML","toString","forEach","actionProv","messagePars","ActionProvider","MessageParser","module","exports"],"mappings":"AAAA,CAAC,MAAI;AAAC;;AAAa,MAAIA,CAAC,GAAC;AAACC,IAAAA,CAAC,EAACC,CAAC,IAAE;AAAC,UAAIC,CAAC,GAACD,CAAC,IAAEA,CAAC,CAACE,UAAL,GAAgB,MAAIF,CAAC,CAACG,OAAtB,GAA8B,MAAIH,CAAxC;AAA0C,aAAOF,CAAC,CAACM,CAAF,CAAIH,CAAJ,EAAM;AAACI,QAAAA,CAAC,EAACJ;AAAH,OAAN,GAAaA,CAApB;AAAsB,KAAvE;AAAwEG,IAAAA,CAAC,EAAC,CAACJ,CAAD,EAAGC,CAAH,KAAO;AAAC,WAAI,IAAII,CAAR,IAAaJ,CAAb,EAAeH,CAAC,CAACQ,CAAF,CAAIL,CAAJ,EAAMI,CAAN,KAAU,CAACP,CAAC,CAACQ,CAAF,CAAIN,CAAJ,EAAMK,CAAN,CAAX,IAAqBE,MAAM,CAACC,cAAP,CAAsBR,CAAtB,EAAwBK,CAAxB,EAA0B;AAACI,QAAAA,UAAU,EAAC,CAAC,CAAb;AAAeC,QAAAA,GAAG,EAACT,CAAC,CAACI,CAAD;AAApB,OAA1B,CAArB;AAAyE,KAA1K;AAA2KC,IAAAA,CAAC,EAAC,CAACR,CAAD,EAAGE,CAAH,KAAOO,MAAM,CAACI,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCf,CAArC,EAAuCE,CAAvC,CAApL;AAA8NC,IAAAA,CAAC,EAACH,CAAC,IAAE;AAAC,qBAAa,OAAOgB,MAApB,IAA4BA,MAAM,CAACC,WAAnC,IAAgDR,MAAM,CAACC,cAAP,CAAsBV,CAAtB,EAAwBgB,MAAM,CAACC,WAA/B,EAA2C;AAACC,QAAAA,KAAK,EAAC;AAAP,OAA3C,CAAhD,EAA6GT,MAAM,CAACC,cAAP,CAAsBV,CAAtB,EAAwB,YAAxB,EAAqC;AAACkB,QAAAA,KAAK,EAAC,CAAC;AAAR,OAArC,CAA7G;AAA8J;AAAlY,GAAN;AAAA,MAA0YhB,CAAC,GAAC,EAA5Y;AAA+YF,EAAAA,CAAC,CAACG,CAAF,CAAID,CAAJ,GAAOF,CAAC,CAACM,CAAF,CAAIJ,CAAJ,EAAM;AAACiB,IAAAA,OAAO,EAAC,MAAIC,CAAb;AAAeC,IAAAA,oBAAoB,EAAC,MAAIC,CAAxC;AAA0CC,IAAAA,mBAAmB,EAAC,MAAIC,CAAlE;AAAoEC,IAAAA,mBAAmB,EAAC,MAAIC,CAA5F;AAA8FrB,IAAAA,OAAO,EAAC,MAAIsB,CAA1G;AAA4GC,IAAAA,UAAU,EAAC,MAAIC;AAA3H,GAAN,CAAP;;AAA4I,QAAM1B,CAAC,GAAC2B,OAAO,CAAC,OAAD,CAAf;;AAAyB,MAAIvB,CAAC,GAACP,CAAC,CAACC,CAAF,CAAIE,CAAJ,CAAN;;AAAa,QAAMF,CAAC,GAAC6B,OAAO,CAAC,4BAAD,CAAf;;AAA8C,MAAItB,CAAC,GAACR,CAAC,CAACC,CAAF,CAAIA,CAAJ,CAAN;AAAA,MAAa8B,CAAC,GAAC,YAAU;AAAC,WAAOA,CAAC,GAACtB,MAAM,CAACuB,MAAP,IAAe,UAAShC,CAAT,EAAW;AAAC,WAAI,IAAIE,CAAJ,EAAMC,CAAC,GAAC,CAAR,EAAUI,CAAC,GAAC0B,SAAS,CAACC,MAA1B,EAAiC/B,CAAC,GAACI,CAAnC,EAAqCJ,CAAC,EAAtC,EAAyC,KAAI,IAAIF,CAAR,IAAaC,CAAC,GAAC+B,SAAS,CAAC9B,CAAD,CAAxB,EAA4BM,MAAM,CAACI,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCb,CAArC,EAAuCD,CAAvC,MAA4CD,CAAC,CAACC,CAAD,CAAD,GAAKC,CAAC,CAACD,CAAD,CAAlD;;AAAuD,aAAOD,CAAP;AAAS,KAAlK,EAAmK+B,CAAC,CAACI,KAAF,CAAQ,IAAR,EAAaF,SAAb,CAA1K;AAAkM,GAA5N;AAAA,MAA6NG,CAAC,GAAC,UAASpC,CAAT,EAAWE,CAAX,EAAa;AAAC,WAAM;AAACmC,MAAAA,OAAO,EAACrC,CAAT;AAAWsC,MAAAA,IAAI,EAACpC,CAAhB;AAAkBqC,MAAAA,EAAE,EAACC,IAAI,CAACC,KAAL,CAAWC,IAAI,CAACC,GAAL,KAAWH,IAAI,CAACI,MAAL,EAAtB;AAArB,KAAN;AAAiE,GAA9S;AAAA,MAA+StB,CAAC,GAAC,UAAStB,CAAT,EAAWE,CAAX,EAAa;AAAC,WAAO6B,CAAC,CAACA,CAAC,CAACA,CAAC,CAAC,EAAD,EAAIK,CAAC,CAACpC,CAAD,EAAG,KAAH,CAAL,CAAF,EAAkBE,CAAlB,CAAF,EAAuB;AAAC2C,MAAAA,OAAO,EAAC,CAAC;AAAV,KAAvB,CAAR;AAA6C,GAA5W;AAAA,MAA6WnB,CAAC,GAAC,UAAS1B,CAAT,EAAWE,CAAX,EAAaC,CAAb,EAAe;AAAC,WAAO4B,CAAC,CAACA,CAAC,CAAC,EAAD,EAAIK,CAAC,CAACpC,CAAD,EAAGE,CAAH,CAAL,CAAF,EAAcC,CAAd,CAAR;AAAyB,GAAxZ;AAAA,MAAyZqB,CAAC,GAAC,UAASxB,CAAT,EAAWE,CAAX,EAAa;AAAC,WAAO6B,CAAC,CAACA,CAAC,CAAC,EAAD,EAAIK,CAAC,CAACpC,CAAD,EAAG,MAAH,CAAL,CAAF,EAAmBE,CAAnB,CAAR;AAA8B,GAAvc;AAAA,MAAwc4C,CAAC,GAAC,UAAS9C,CAAT,EAAW;AAAC,SAAI,IAAIE,CAAC,GAAC,EAAN,EAASC,CAAC,GAAC,CAAf,EAAiBA,CAAC,GAAC8B,SAAS,CAACC,MAA7B,EAAoC/B,CAAC,EAArC,EAAwCD,CAAC,CAACC,CAAC,GAAC,CAAH,CAAD,GAAO8B,SAAS,CAAC9B,CAAD,CAAhB;;AAAoB,QAAGH,CAAH,EAAK,OAAOA,CAAC,CAACmC,KAAF,CAAQ,KAAK,CAAb,EAAejC,CAAf,CAAP;AAAyB,GAAhjB;;AAAijB,WAASI,CAAT,GAAY;AAAC,WAAOA,CAAC,GAACG,MAAM,CAACuB,MAAP,IAAe,UAAShC,CAAT,EAAW;AAAC,WAAI,IAAIE,CAAC,GAAC,CAAV,EAAYA,CAAC,GAAC+B,SAAS,CAACC,MAAxB,EAA+BhC,CAAC,EAAhC,EAAmC;AAAC,YAAIC,CAAC,GAAC8B,SAAS,CAAC/B,CAAD,CAAf;;AAAmB,aAAI,IAAIK,CAAR,IAAaJ,CAAb,EAAeM,MAAM,CAACI,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCZ,CAArC,EAAuCI,CAAvC,MAA4CP,CAAC,CAACO,CAAD,CAAD,GAAKJ,CAAC,CAACI,CAAD,CAAlD;AAAuD;;AAAA,aAAOP,CAAP;AAAS,KAAnK,EAAoKM,CAAC,CAAC6B,KAAF,CAAQ,IAAR,EAAaF,SAAb,CAA3K;AAAmM;;AAAA,QAAMc,CAAC,GAAC,CAAC;AAACC,IAAAA,MAAM,EAAChD,CAAC,GAAC,EAAV;AAAa,OAAGE;AAAhB,GAAD,KAAsBK,CAAC,GAAG0C,aAAJ,CAAkB,KAAlB,EAAwB3C,CAAC,CAAC;AAAC4C,IAAAA,KAAK,EAAC,4BAAP;AAAoCC,IAAAA,OAAO,EAAC;AAA5C,GAAD,EAA4DjD,CAA5D,CAAzB,EAAwFK,CAAC,GAAG0C,aAAJ,CAAkB,MAAlB,EAAyB;AAAC3C,IAAAA,CAAC,EAAC;AAAH,GAAzB,CAAxF,CAA9B;AAAA,QAA4Y8C,CAAC,GAAC,UAASpD,CAAT,EAAW;AAAC,QAAIE,CAAC,GAACF,CAAC,CAACqC,OAAR;AAAA,QAAgBlC,CAAC,GAACH,CAAC,CAACqD,gBAApB;AAAqC,WAAO9C,CAAC,GAAG0C,aAAJ,CAAkB,KAAlB,EAAwB;AAACK,MAAAA,SAAS,EAAC;AAAX,KAAxB,EAAoF/C,CAAC,GAAG0C,aAAJ,CAAkBzC,CAAC,EAAnB,EAAsB;AAAC+C,MAAAA,SAAS,EAAC,CAAC,CAACpD,CAAC,CAACqD,eAAf;AAA+BC,MAAAA,IAAI,EAACX,CAAC,CAAC3C,CAAC,CAACqD,eAAH,EAAmB;AAACnB,QAAAA,OAAO,EAACnC;AAAT,OAAnB,CAArC;AAAqEwD,MAAAA,QAAQ,EAACnD,CAAC,GAAG0C,aAAJ,CAAkB,KAAlB,EAAwB;AAACK,QAAAA,SAAS,EAAC;AAAX,OAAxB,EAA0EpD,CAA1E,EAA4EK,CAAC,GAAG0C,aAAJ,CAAkB,KAAlB,EAAwB;AAACK,QAAAA,SAAS,EAAC;AAAX,OAAxB,CAA5E;AAA9E,KAAtB,CAApF,EAAwV/C,CAAC,GAAG0C,aAAJ,CAAkBzC,CAAC,EAAnB,EAAsB;AAAC+C,MAAAA,SAAS,EAAC,CAAC,CAACpD,CAAC,CAACwD,UAAf;AAA0BF,MAAAA,IAAI,EAACX,CAAC,CAAC3C,CAAC,CAACwD,UAAH,CAAhC;AAA+CD,MAAAA,QAAQ,EAACnD,CAAC,GAAG0C,aAAJ,CAAkB,KAAlB,EAAwB;AAACK,QAAAA,SAAS,EAAC;AAAX,OAAxB,EAAoE/C,CAAC,GAAG0C,aAAJ,CAAkB,KAAlB,EAAwB;AAACK,QAAAA,SAAS,EAAC;AAAX,OAAxB,EAA8E/C,CAAC,GAAG0C,aAAJ,CAAkBF,CAAlB,EAAoB;AAACO,QAAAA,SAAS,EAAC;AAAX,OAApB,CAA9E,CAApE;AAAxD,KAAtB,CAAxV,CAAP;AAA0oB,GAAzkC;AAAA,QAA0kCM,CAAC,GAAC,YAAU;AAAC,WAAOrD,CAAC,GAAG0C,aAAJ,CAAkB,KAAlB,EAAwB;AAACK,MAAAA,SAAS,EAAC;AAAX,KAAxB,EAAwE/C,CAAC,GAAG0C,aAAJ,CAAkB,KAAlB,EAAwB;AAACK,MAAAA,SAAS,EAAC;AAAX,KAAxB,EAAkF/C,CAAC,GAAG0C,aAAJ,CAAkB,GAAlB,EAAsB;AAACK,MAAAA,SAAS,EAAC;AAAX,KAAtB,EAA6E,GAA7E,CAAlF,CAAxE,CAAP;AAAqP,GAA50C;AAAA,QAA60CO,CAAC,GAAC,YAAU;AAAC,WAAOtD,CAAC,GAAG0C,aAAJ,CAAkB,KAAlB,EAAwB;AAACK,MAAAA,SAAS,EAAC;AAAX,KAAxB,EAA+D/C,CAAC,GAAG0C,aAAJ,CAAkB,KAAlB,EAAwB;AAACV,MAAAA,EAAE,EAAC,MAAJ;AAAWuB,MAAAA,KAAK,EAAC,MAAjB;AAAwBC,MAAAA,MAAM,EAAC,MAA/B;AAAsCZ,MAAAA,OAAO,EAAC,YAA9C;AAA2Da,MAAAA,OAAO,EAAC,KAAnE;AAAyEd,MAAAA,KAAK,EAAC;AAA/E,KAAxB,EAAqI3C,CAAC,GAAG0C,aAAJ,CAAkB,GAAlB,EAAsB;AAACgB,MAAAA,MAAM,EAAC,MAAR;AAAeC,MAAAA,IAAI,EAAC;AAApB,KAAtB,EAAkD3D,CAAC,GAAG0C,aAAJ,CAAkB,GAAlB,EAAsB;AAACV,MAAAA,EAAE,EAAC,gBAAJ;AAAqB2B,MAAAA,IAAI,EAAC;AAA1B,KAAtB,EAAwD3D,CAAC,GAAG0C,aAAJ,CAAkB,QAAlB,EAA2B;AAACV,MAAAA,EAAE,EAAC,qBAAJ;AAA0B4B,MAAAA,EAAE,EAAC,IAA7B;AAAkCC,MAAAA,EAAE,EAAC,IAArC;AAA0CjE,MAAAA,CAAC,EAAC;AAA5C,KAA3B,CAAxD,EAAsII,CAAC,GAAG0C,aAAJ,CAAkB,QAAlB,EAA2B;AAACV,MAAAA,EAAE,EAAC,qBAAJ;AAA0B4B,MAAAA,EAAE,EAAC,IAA7B;AAAkCC,MAAAA,EAAE,EAAC,IAArC;AAA0CjE,MAAAA,CAAC,EAAC;AAA5C,KAA3B,CAAtI,EAAoNI,CAAC,GAAG0C,aAAJ,CAAkB,QAAlB,EAA2B;AAACV,MAAAA,EAAE,EAAC,qBAAJ;AAA0B4B,MAAAA,EAAE,EAAC,KAA7B;AAAmCC,MAAAA,EAAE,EAAC,IAAtC;AAA2CjE,MAAAA,CAAC,EAAC;AAA7C,KAA3B,CAApN,CAAlD,CAArI,CAA/D,CAAP;AAAoiB,GAA93D;;AAA+3D,MAAIkE,CAAC,GAAC,YAAU;AAAC,WAAOA,CAAC,GAAC5D,MAAM,CAACuB,MAAP,IAAe,UAAShC,CAAT,EAAW;AAAC,WAAI,IAAIE,CAAJ,EAAMC,CAAC,GAAC,CAAR,EAAUI,CAAC,GAAC0B,SAAS,CAACC,MAA1B,EAAiC/B,CAAC,GAACI,CAAnC,EAAqCJ,CAAC,EAAtC,EAAyC,KAAI,IAAIF,CAAR,IAAaC,CAAC,GAAC+B,SAAS,CAAC9B,CAAD,CAAxB,EAA4BM,MAAM,CAACI,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCb,CAArC,EAAuCD,CAAvC,MAA4CD,CAAC,CAACC,CAAD,CAAD,GAAKC,CAAC,CAACD,CAAD,CAAlD;;AAAuD,aAAOD,CAAP;AAAS,KAAlK,EAAmKqE,CAAC,CAAClC,KAAF,CAAQ,IAAR,EAAaF,SAAb,CAA1K;AAAkM,GAAnN;;AAAoN,QAAMqC,CAAC,GAAC,UAAStE,CAAT,EAAW;AAAC,QAAIE,CAAC,GAACF,CAAC,CAACqC,OAAR;AAAA,QAAgBpC,CAAC,GAACD,CAAC,CAACuE,UAApB;AAAA,QAA+BxC,CAAC,GAAC,KAAK,CAAL,KAAS9B,CAAT,IAAYA,CAA7C;AAAA,QAA+CmC,CAAC,GAACpC,CAAC,CAAC6C,OAAnD;AAAA,QAA2DvB,CAAC,GAACtB,CAAC,CAACwE,QAA/D;AAAA,QAAwE9C,CAAC,GAAC1B,CAAC,CAACqD,gBAA5E;AAAA,QAA6F7B,CAAC,GAACxB,CAAC,CAACyE,QAAjG;AAAA,QAA0GnE,CAAC,GAACN,CAAC,CAAC0E,YAA9G;AAAA,QAA2H3B,CAAC,GAAC/C,CAAC,CAAC2E,KAA/H;AAAA,QAAqIvB,CAAC,GAACpD,CAAC,CAACuC,EAAzI;AAAA,QAA4I+B,CAAC,GAAC,CAAC,GAAEnE,CAAC,CAACyE,QAAL,EAAe,CAAC,CAAhB,CAA9I;AAAA,QAAiKC,CAAC,GAACP,CAAC,CAAC,CAAD,CAApK;AAAA,QAAwKQ,CAAC,GAACR,CAAC,CAAC,CAAD,CAA3K;AAA+K,KAAC,GAAEnE,CAAC,CAAC4E,SAAL,EAAiB,YAAU;AAAC,UAAI/E,CAAJ;AAAM,aAAO,UAASE,CAAT,EAAWC,CAAX,EAAa;AAAC,YAAII,CAAC,GAAC,GAAN;AAAUwC,QAAAA,CAAC,KAAGxC,CAAC,IAAEwC,CAAN,CAAD,EAAU/C,CAAC,GAACgF,UAAU,CAAE,YAAU;AAAC,cAAIhF,CAAC,GAAC,UAASA,CAAT,EAAWE,CAAX,EAAaC,CAAb,EAAe;AAAC,gBAAGA,CAAC,IAAE,MAAI8B,SAAS,CAACC,MAApB,EAA2B,KAAI,IAAI3B,CAAJ,EAAMN,CAAC,GAAC,CAAR,EAAUO,CAAC,GAACN,CAAC,CAACgC,MAAlB,EAAyBjC,CAAC,GAACO,CAA3B,EAA6BP,CAAC,EAA9B,EAAiC,CAACM,CAAD,IAAIN,CAAC,IAAIC,CAAT,KAAaK,CAAC,KAAGA,CAAC,GAAC0E,KAAK,CAACpE,SAAN,CAAgBqE,KAAhB,CAAsBnE,IAAtB,CAA2Bb,CAA3B,EAA6B,CAA7B,EAA+BD,CAA/B,CAAL,CAAD,EAAyCM,CAAC,CAACN,CAAD,CAAD,GAAKC,CAAC,CAACD,CAAD,CAA5D;AAAiE,mBAAOD,CAAC,CAACmF,MAAF,CAAS5E,CAAC,IAAE0E,KAAK,CAACpE,SAAN,CAAgBqE,KAAhB,CAAsBnE,IAAtB,CAA2Bb,CAA3B,CAAZ,CAAP;AAAkD,WAA/L,CAAgM,EAAhM,EAAmMA,CAAnM,EAAqM,CAAC,CAAtM,EAAyMkF,IAAzM,CAA+M,UAASpF,CAAT,EAAW;AAAC,mBAAOA,CAAC,CAACuC,EAAF,KAAOa,CAAd;AAAgB,WAA3O,CAAN;;AAAoPpD,UAAAA,CAAC,KAAGA,CAAC,CAAC6C,OAAF,GAAU,CAAC,CAAX,EAAa7C,CAAC,CAAC2E,KAAF,GAAQ,KAAK,CAA1B,EAA4BxE,CAAC,CAAE,UAASD,CAAT,EAAW;AAAC,gBAAIC,CAAC,GAACD,CAAC,CAACsE,QAAR;AAAA,gBAAiBjE,CAAC,GAACJ,CAAC,CAACkF,SAAF,CAAa,UAASrF,CAAT,EAAW;AAAC,qBAAOA,CAAC,CAACuC,EAAF,KAAOa,CAAd;AAAgB,aAAzC,CAAnB;AAA+D,mBAAOjD,CAAC,CAACI,CAAD,CAAD,GAAKP,CAAL,EAAOqE,CAAC,CAACA,CAAC,CAAC,EAAD,EAAInE,CAAJ,CAAF,EAAS;AAACsE,cAAAA,QAAQ,EAACrE;AAAV,aAAT,CAAf;AAAsC,WAAnH,CAAhC,CAAD;AAAwJ,SAAzZ,EAA2ZI,CAA3Z,CAAtB;AAAob,OAA5c,CAA6ce,CAA7c,EAA+cE,CAA/c,GAAkd,YAAU;AAAC8D,QAAAA,YAAY,CAACtF,CAAD,CAAZ;AAAgB,OAApf;AAAqf,KAAvhB,EAAyhB,CAAC+C,CAAD,EAAGK,CAAH,CAAzhB,GAAgiB,CAAC,GAAEjD,CAAC,CAAC4E,SAAL,EAAiB,YAAU;AAAChC,MAAAA,CAAC,GAACiC,UAAU,CAAE,YAAU;AAAC,eAAOF,CAAC,CAAC,CAAC,CAAF,CAAR;AAAa,OAA1B,EAA4B/B,CAA5B,CAAX,GAA0C+B,CAAC,CAAC,CAAC,CAAF,CAA5C;AAAiD,KAA7E,EAA+E,CAAC/B,CAAD,CAA/E,CAAhiB;AAAonB,QAAIwC,CAAC,GAAC;AAACC,MAAAA,eAAe,EAAC;AAAjB,KAAN;AAAA,QAA2BC,CAAC,GAAC;AAACC,MAAAA,gBAAgB,EAAC;AAAlB,KAA7B;AAAmD,WAAOpF,CAAC,KAAGiF,CAAC,CAACC,eAAF,GAAkBlF,CAAC,CAACkF,eAApB,EAAoCC,CAAC,CAACC,gBAAF,GAAmBpF,CAAC,CAACkF,eAA5D,CAAD,EAA8EjF,CAAC,GAAG0C,aAAJ,CAAkBzC,CAAC,EAAnB,EAAsB;AAAC+C,MAAAA,SAAS,EAACsB,CAAX;AAAapB,MAAAA,IAAI,EAAClD,CAAC,GAAG0C,aAAJ,CAAkB,KAAlB,EAAwB;AAACK,QAAAA,SAAS,EAAC;AAAX,OAAxB,EAAmF/C,CAAC,GAAG0C,aAAJ,CAAkBzC,CAAC,EAAnB,EAAsB;AAAC+C,QAAAA,SAAS,EAACxB,CAAX;AAAa0B,QAAAA,IAAI,EAAClD,CAAC,GAAG0C,aAAJ,CAAkBzC,CAAC,EAAnB,EAAsB;AAAC+C,UAAAA,SAAS,EAAC,CAAC,EAAE,QAAM7B,CAAN,GAAQ,KAAK,CAAb,GAAeA,CAAC,CAACiE,SAAnB,CAAZ;AAA0ClC,UAAAA,IAAI,EAACX,CAAC,CAAC,QAAMpB,CAAN,GAAQ,KAAK,CAAb,GAAeA,CAAC,CAACiE,SAAlB,CAAhD;AAA6EjC,UAAAA,QAAQ,EAACnD,CAAC,GAAG0C,aAAJ,CAAkBW,CAAlB,EAAoB,IAApB;AAAtF,SAAtB;AAAlB,OAAtB,CAAnF,EAAqQrD,CAAC,GAAG0C,aAAJ,CAAkBzC,CAAC,EAAnB,EAAsB;AAAC+C,QAAAA,SAAS,EAAC,CAAC,EAAE,QAAM7B,CAAN,GAAQ,KAAK,CAAb,GAAeA,CAAC,CAACkE,cAAnB,CAAZ;AAA+CnC,QAAAA,IAAI,EAACX,CAAC,CAAC,QAAMpB,CAAN,GAAQ,KAAK,CAAb,GAAeA,CAAC,CAACkE,cAAlB,EAAiC;AAACvD,UAAAA,OAAO,EAACnC,CAAT;AAAW2F,UAAAA,MAAM,EAACtF,CAAC,GAAG0C,aAAJ,CAAkBY,CAAlB,EAAoB,IAApB;AAAlB,SAAjC,CAArD;AAAoIH,QAAAA,QAAQ,EAACnD,CAAC,GAAG0C,aAAJ,CAAkB,KAAlB,EAAwB;AAACK,UAAAA,SAAS,EAAC,oCAAX;AAAgDwC,UAAAA,KAAK,EAACP;AAAtD,SAAxB,EAAiFhF,CAAC,GAAG0C,aAAJ,CAAkBzC,CAAC,EAAnB,EAAsB;AAAC+C,UAAAA,SAAS,EAACnB,CAAX;AAAaqB,UAAAA,IAAI,EAAClD,CAAC,GAAG0C,aAAJ,CAAkBY,CAAlB,EAAoB,IAApB,CAAlB;AAA4CH,UAAAA,QAAQ,EAACnD,CAAC,GAAG0C,aAAJ,CAAkB,MAAlB,EAAyB,IAAzB,EAA8B/C,CAA9B;AAArD,SAAtB,CAAjF,EAA+LK,CAAC,GAAG0C,aAAJ,CAAkBzC,CAAC,EAAnB,EAAsB;AAAC+C,UAAAA,SAAS,EAACxB,CAAX;AAAa0B,UAAAA,IAAI,EAAClD,CAAC,GAAG0C,aAAJ,CAAkB,KAAlB,EAAwB;AAACK,YAAAA,SAAS,EAAC,0CAAX;AAAsDwC,YAAAA,KAAK,EAACL;AAA5D,WAAxB;AAAlB,SAAtB,CAA/L;AAA7I,OAAtB,CAArQ;AAAlB,KAAtB,CAArF;AAA42B,GAAttD;;AAAutD,WAASZ,CAAT,GAAY;AAAC,WAAOA,CAAC,GAACpE,MAAM,CAACuB,MAAP,IAAe,UAAShC,CAAT,EAAW;AAAC,WAAI,IAAIE,CAAC,GAAC,CAAV,EAAYA,CAAC,GAAC+B,SAAS,CAACC,MAAxB,EAA+BhC,CAAC,EAAhC,EAAmC;AAAC,YAAIC,CAAC,GAAC8B,SAAS,CAAC/B,CAAD,CAAf;;AAAmB,aAAI,IAAIK,CAAR,IAAaJ,CAAb,EAAeM,MAAM,CAACI,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCZ,CAArC,EAAuCI,CAAvC,MAA4CP,CAAC,CAACO,CAAD,CAAD,GAAKJ,CAAC,CAACI,CAAD,CAAlD;AAAuD;;AAAA,aAAOP,CAAP;AAAS,KAAnK,EAAoK6E,CAAC,CAAC1C,KAAF,CAAQ,IAAR,EAAaF,SAAb,CAA3K;AAAmM;;AAAA,QAAM6C,CAAC,GAAC,CAAC;AAAC9B,IAAAA,MAAM,EAAChD,CAAC,GAAC,EAAV;AAAa,OAAGE;AAAhB,GAAD,KAAsBK,CAAC,GAAG0C,aAAJ,CAAkB,KAAlB,EAAwB4B,CAAC,CAAC;AAAC3B,IAAAA,KAAK,EAAC,4BAAP;AAAoCC,IAAAA,OAAO,EAAC;AAA5C,GAAD,EAA4DjD,CAA5D,CAAzB,EAAwFK,CAAC,GAAG0C,aAAJ,CAAkB,MAAlB,EAAyB;AAAC3C,IAAAA,CAAC,EAAC;AAAH,GAAzB,CAAxF,CAA9B;;AAA6W,MAAIiF,CAAC,GAAC,YAAU;AAAC,WAAOA,CAAC,GAAC9E,MAAM,CAACuB,MAAP,IAAe,UAAShC,CAAT,EAAW;AAAC,WAAI,IAAIE,CAAJ,EAAMC,CAAC,GAAC,CAAR,EAAUI,CAAC,GAAC0B,SAAS,CAACC,MAA1B,EAAiC/B,CAAC,GAACI,CAAnC,EAAqCJ,CAAC,EAAtC,EAAyC,KAAI,IAAIF,CAAR,IAAaC,CAAC,GAAC+B,SAAS,CAAC9B,CAAD,CAAxB,EAA4BM,MAAM,CAACI,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCb,CAArC,EAAuCD,CAAvC,MAA4CD,CAAC,CAACC,CAAD,CAAD,GAAKC,CAAC,CAACD,CAAD,CAAlD;;AAAuD,aAAOD,CAAP;AAAS,KAAlK,EAAmKuF,CAAC,CAACpD,KAAF,CAAQ,IAAR,EAAaF,SAAb,CAA1K;AAAkM,GAAnN;AAAA,MAAoNwD,CAAC,GAAC,UAASzF,CAAT,EAAWE,CAAX,EAAaC,CAAb,EAAe;AAAC,QAAGA,CAAC,IAAE,MAAI8B,SAAS,CAACC,MAApB,EAA2B,KAAI,IAAI3B,CAAJ,EAAMN,CAAC,GAAC,CAAR,EAAUO,CAAC,GAACN,CAAC,CAACgC,MAAlB,EAAyBjC,CAAC,GAACO,CAA3B,EAA6BP,CAAC,EAA9B,EAAiC,CAACM,CAAD,IAAIN,CAAC,IAAIC,CAAT,KAAaK,CAAC,KAAGA,CAAC,GAAC0E,KAAK,CAACpE,SAAN,CAAgBqE,KAAhB,CAAsBnE,IAAtB,CAA2Bb,CAA3B,EAA6B,CAA7B,EAA+BD,CAA/B,CAAL,CAAD,EAAyCM,CAAC,CAACN,CAAD,CAAD,GAAKC,CAAC,CAACD,CAAD,CAA5D;AAAiE,WAAOD,CAAC,CAACmF,MAAF,CAAS5E,CAAC,IAAE0E,KAAK,CAACpE,SAAN,CAAgBqE,KAAhB,CAAsBnE,IAAtB,CAA2Bb,CAA3B,CAAZ,CAAP;AAAkD,GAArZ;;AAAsZ,QAAM6F,CAAC,GAAC,UAAS/F,CAAT,EAAW;AAAC,QAAIE,CAAC,GAACF,CAAC,CAACgG,KAAR;AAAA,QAAc/F,CAAC,GAACD,CAAC,CAACyE,QAAlB;AAAA,QAA2B1C,CAAC,GAAC/B,CAAC,CAACiG,cAA/B;AAAA,QAA8C3E,CAAC,GAACtB,CAAC,CAACkG,aAAlD;AAAA,QAAgExE,CAAC,GAAC1B,CAAC,CAACmG,KAApE;AAAA,QAA0E3E,CAAC,GAACxB,CAAC,CAACqD,gBAA9E;AAAA,QAA+FP,CAAC,GAAC9C,CAAC,CAACoG,cAAnG;AAAA,QAAkH9F,CAAC,GAACN,CAAC,CAACqG,OAAtH;AAAA,QAA8HtD,CAAC,GAAC/C,CAAC,CAAC0E,YAAlI;AAAA,QAA+Id,CAAC,GAAC5D,CAAC,CAACsG,UAAnJ;AAAA,QAA8JzC,CAAC,GAAC7D,CAAC,CAACuG,cAAlK;AAAA,QAAiLlC,CAAC,GAACrE,CAAC,CAACwG,eAArL;AAAA,QAAqM3B,CAAC,GAAC7E,CAAC,CAACyG,SAAzM;AAAA,QAAmNV,CAAC,GAAC/F,CAAC,CAAC0G,sBAAvN;AAAA,QAA8OC,CAAC,GAAC3G,CAAC,CAAC4G,qBAAlP;AAAA,QAAwQC,CAAC,GAAC7G,CAAC,CAAC8G,cAA5Q;AAAA,QAA2RC,CAAC,GAAC/G,CAAC,CAACgH,OAA/R;AAAA,QAAuSC,CAAC,GAAC/G,CAAC,CAACsE,QAA3S;AAAA,QAAoT0C,CAAC,GAAC,CAAC,GAAE/G,CAAC,CAACgH,MAAL,EAAa,IAAb,CAAtT;AAAA,QAAyUC,CAAC,GAAC,CAAC,GAAEjH,CAAC,CAACyE,QAAL,EAAe,EAAf,CAA3U;AAAA,QAA8VyC,CAAC,GAACD,CAAC,CAAC,CAAD,CAAjW;AAAA,QAAqWvF,CAAC,GAACuF,CAAC,CAAC,CAAD,CAAxW;AAAA,QAA4WE,CAAC,GAAC,YAAU;AAACtC,MAAAA,UAAU,CAAE,YAAU;AAAC,YAAIhF,CAAJ;AAAMkH,QAAAA,CAAC,CAACK,OAAF,KAAYL,CAAC,CAACK,OAAF,CAAUC,SAAV,GAAoB,UAAQxH,CAAC,GAAC,QAAMkH,CAAN,GAAQ,KAAK,CAAb,GAAeA,CAAC,CAACK,OAA3B,KAAqC,KAAK,CAAL,KAASvH,CAA9C,GAAgD,KAAK,CAArD,GAAuDA,CAAC,CAACyH,YAAzF;AAAuG,OAA1H,EAA4H,EAA5H,CAAV;AAA0I,KAAngB;;AAAogB,KAAC,GAAEtH,CAAC,CAAC4E,SAAL,EAAiB,YAAU;AAAC4B,MAAAA,CAAC,IAAEW,CAAC,EAAJ;AAAO,KAAnC,GAAsC,CAAC,GAAEnH,CAAC,CAAC4E,SAAL,EAAiB,YAAU;AAACgB,MAAAA,CAAC,CAACmB,CAAD,CAAD;AAAK,KAAjC,EAAmC,CAACA,CAAC,CAACK,OAAH,CAAnC,CAAtC;;AAAsF,QAAInG,CAAC,GAAC,YAAU;AAACnB,MAAAA,CAAC,CAAE,UAASD,CAAT,EAAW;AAAC,eAAOuF,CAAC,CAACA,CAAC,CAAC,EAAD,EAAIvF,CAAJ,CAAF,EAAS;AAACwE,UAAAA,QAAQ,EAACiB,CAAC,CAACA,CAAC,CAAC,EAAD,EAAIzF,CAAC,CAACwE,QAAN,EAAe,CAAC,CAAhB,CAAF,EAAqB,CAACpC,CAAC,CAACiF,CAAD,EAAG,MAAH,CAAF,CAArB,EAAmC,CAAC,CAApC;AAAX,SAAT,CAAR;AAAqE,OAAnF,CAAD,EAAuFC,CAAC,EAAxF,EAA2FzF,CAAC,CAAC,EAAD,CAA5F;AAAiG,KAAlH;AAAA,QAAmHF,CAAC,GAAC;AAAC6D,MAAAA,eAAe,EAAC;AAAjB,KAArH;;AAA0IzC,IAAAA,CAAC,IAAEA,CAAC,CAAC2E,UAAL,KAAkB/F,CAAC,CAAC6D,eAAF,GAAkBzC,CAAC,CAAC2E,UAAF,CAAalC,eAAjD;AAAkE,QAAImC,CAAC,GAAC,uBAAqBrH,CAA3B;AAA6BsD,IAAAA,CAAC,KAAG+D,CAAC,GAAC/D,CAAL,CAAD;AAAS,QAAIgE,CAAC,GAAC,yBAAN;AAAgC,WAAOvD,CAAC,KAAGuD,CAAC,GAACvD,CAAL,CAAD,EAAS9D,CAAC,GAAG0C,aAAJ,CAAkB,KAAlB,EAAwB;AAACK,MAAAA,SAAS,EAAC;AAAX,KAAxB,EAAuE/C,CAAC,GAAG0C,aAAJ,CAAkB,KAAlB,EAAwB;AAACK,MAAAA,SAAS,EAAC;AAAX,KAAxB,EAA6E/C,CAAC,GAAG0C,aAAJ,CAAkBzC,CAAC,EAAnB,EAAsB;AAAC+C,MAAAA,SAAS,EAAC,CAAC,CAAC/B,CAAC,CAACqG,MAAf;AAAsBpE,MAAAA,IAAI,EAACjC,CAAC,CAACqG,MAAF,IAAUrG,CAAC,CAACqG,MAAF,CAAS/E,CAAT,CAArC;AAAiDY,MAAAA,QAAQ,EAACnD,CAAC,GAAG0C,aAAJ,CAAkB,KAAlB,EAAwB;AAACK,QAAAA,SAAS,EAAC;AAAX,OAAxB,EAAoEqE,CAApE;AAA1D,KAAtB,CAA7E,EAAsOpH,CAAC,GAAG0C,aAAJ,CAAkB,KAAlB,EAAwB;AAACK,MAAAA,SAAS,EAAC,0CAAX;AAAsDwE,MAAAA,GAAG,EAACZ;AAA1D,KAAxB,EAAqF3G,CAAC,GAAG0C,aAAJ,CAAkBzC,CAAC,EAAnB,EAAsB;AAAC+C,MAAAA,SAAS,EAAC,YAAU,OAAOsD,CAAjB,IAAoBkB,OAAO,CAAClB,CAAD,CAAtC;AAA0CpD,MAAAA,IAAI,EAAClD,CAAC,GAAG0C,aAAJ,CAAkB,KAAlB,EAAwB;AAAC+E,QAAAA,uBAAuB,EAAC;AAACC,UAAAA,MAAM,EAACpB;AAAR;AAAzB,OAAxB;AAA/C,KAAtB,CAArF,EAA0NI,CAAC,CAACiB,GAAF,CAAO,UAASlI,CAAT,EAAWG,CAAX,EAAa;AAAC,aAAM,UAAQH,CAAC,CAACsC,IAAV,GAAe/B,CAAC,GAAG0C,aAAJ,CAAkB1C,CAAC,GAAG4H,QAAtB,EAA+B;AAACC,QAAAA,GAAG,EAACpI,CAAC,CAACuC;AAAP,OAA/B,EAA0C,UAASvC,CAAT,EAAWG,CAAX,EAAa;AAAC,YAAIiC,CAAJ;AAAMA,QAAAA,CAAC,GAACpC,CAAC,CAACuE,UAAF,GAAavE,CAAC,CAACuE,UAAf,GAA0B,UAASvE,CAAT,EAAWE,CAAX,EAAa;AAAC,cAAG,MAAIA,CAAP,EAAS,OAAM,CAAC,CAAP;AAAS,cAAIC,CAAC,GAACH,CAAC,CAACE,CAAC,GAAC,CAAH,CAAP;AAAa,iBAAM,EAAE,UAAQC,CAAC,CAACmC,IAAV,IAAgB,CAACnC,CAAC,CAACkI,MAArB,CAAN;AAAmC,SAAhF,CAAiFpB,CAAjF,EAAmF9G,CAAnF,CAA5B;AAAkH,YAAImB,CAAC,GAACiE,CAAC,CAACA,CAAC,CAAC,EAAD,EAAIvF,CAAJ,CAAF,EAAS;AAACyE,UAAAA,QAAQ,EAACxE,CAAV;AAAY+F,UAAAA,KAAK,EAAC9F,CAAlB;AAAoBmD,UAAAA,gBAAgB,EAAC7B,CAArC;AAAuCyE,UAAAA,cAAc,EAAClE,CAAtD;AAAwDyC,UAAAA,QAAQ,EAACyC,CAAjE;AAAmED,UAAAA,OAAO,EAACD;AAA3E,SAAT,CAAP;;AAA+F,YAAG/G,CAAC,CAACqI,MAAL,EAAY;AAAC,cAAI3G,CAAC,GAACK,CAAC,CAACuG,SAAF,CAAYhH,CAAC,CAAC+G,MAAd,EAAqB9C,CAAC,CAACA,CAAC,CAAC,EAAD,EAAIrF,CAAJ,CAAF,EAAS;AAACqI,YAAAA,cAAc,EAACjB,CAAhB;AAAkBkB,YAAAA,OAAO,EAACxI,CAAC,CAACwI,OAA5B;AAAoCxB,YAAAA,OAAO,EAACD;AAA5C,WAAT,CAAtB,CAAN;AAAsF,iBAAOxG,CAAC,GAAG0C,aAAJ,CAAkB1C,CAAC,GAAG4H,QAAtB,EAA+B,IAA/B,EAAoC5H,CAAC,GAAG0C,aAAJ,CAAkBqB,CAAlB,EAAoBiB,CAAC,CAAC;AAACb,YAAAA,YAAY,EAAC3B,CAAC,CAAC0F,aAAhB;AAA8BlE,YAAAA,UAAU,EAACnC;AAAzC,WAAD,EAA6Cd,CAA7C,EAA+C;AAAC8G,YAAAA,GAAG,EAACpI,CAAC,CAACuC;AAAP,WAA/C,CAArB,CAApC,EAAqHhC,CAAC,GAAG0C,aAAJ,CAAkBzC,CAAC,EAAnB,EAAsB;AAAC+C,YAAAA,SAAS,EAAC,CAACjC,CAAC,CAACuB,OAAd;AAAsBY,YAAAA,IAAI,EAAC/B,CAAC,IAAE;AAA9B,WAAtB,CAArH,CAAP;AAAwL;;AAAA,eAAOnB,CAAC,GAAG0C,aAAJ,CAAkBqB,CAAlB,EAAoBiB,CAAC,CAAC;AAACb,UAAAA,YAAY,EAAC3B,CAAC,CAAC0F,aAAhB;AAA8BL,UAAAA,GAAG,EAACpI,CAAC,CAACuC,EAApC;AAAuCgC,UAAAA,UAAU,EAACnC;AAAlD,SAAD,EAAsDd,CAAtD,EAAwD;AAAC+B,UAAAA,gBAAgB,EAAC7B,CAAlB;AAAoBgD,UAAAA,QAAQ,EAACyC,CAA7B;AAA+BxC,UAAAA,QAAQ,EAACxE;AAAxC,SAAxD,CAArB,CAAP;AAAiI,OAAjoB,CAAkoBD,CAAloB,EAAooBG,CAApoB,CAA1C,CAAf,GAAisB,WAASH,CAAC,CAACsC,IAAX,GAAgB/B,CAAC,GAAG0C,aAAJ,CAAkB1C,CAAC,GAAG4H,QAAtB,EAA+B;AAACC,QAAAA,GAAG,EAACpI,CAAC,CAACuC;AAAP,OAA/B,EAA0C,UAASvC,CAAT,EAAW;AAAC,YAAIG,CAAC,GAAC4B,CAAC,CAACuG,SAAF,CAAYtI,CAAC,CAACqI,MAAd,EAAqB9C,CAAC,CAACA,CAAC,CAAC,EAAD,EAAIrF,CAAJ,CAAF,EAAS;AAACqI,UAAAA,cAAc,EAACjB,CAAhB;AAAkBkB,UAAAA,OAAO,EAACxI,CAAC,CAACwI,OAA5B;AAAoCxB,UAAAA,OAAO,EAACD;AAA5C,SAAT,CAAtB,CAAN;AAAsF,eAAOxG,CAAC,GAAG0C,aAAJ,CAAkB1C,CAAC,GAAG4H,QAAtB,EAA+B,IAA/B,EAAoC5H,CAAC,GAAG0C,aAAJ,CAAkBG,CAAlB,EAAoB;AAACf,UAAAA,OAAO,EAACrC,CAAC,CAACqC,OAAX;AAAmB+F,UAAAA,GAAG,EAACpI,CAAC,CAACuC,EAAzB;AAA4Bc,UAAAA,gBAAgB,EAAC7B;AAA7C,SAApB,CAApC,EAAyGrB,CAAC,IAAE,IAA5G,CAAP;AAAyH,OAA3N,CAA4NH,CAA5N,CAA1C,CAAhB,GAA0R,UAASA,CAAT,EAAWE,CAAX,EAAa;AAAC,eAAM,CAAC,CAACA,CAAC,CAACF,CAAC,CAACsC,IAAH,CAAT;AAAkB,OAAhC,CAAiCtC,CAAjC,EAAmC6D,CAAnC,IAAsCtD,CAAC,GAAG0C,aAAJ,CAAkB1C,CAAC,GAAG4H,QAAtB,EAA+B;AAACC,QAAAA,GAAG,EAACpI,CAAC,CAACuC;AAAP,OAA/B,EAA0C,UAASvC,CAAT,EAAW;AAAC,YAAIG,CAAC,GAAC0D,CAAC,CAAC7D,CAAC,CAACsC,IAAH,CAAP;AAAA,YAAgB9B,CAAC,GAAC;AAACiE,UAAAA,QAAQ,EAACxE,CAAV;AAAY+F,UAAAA,KAAK,EAAC9F,CAAlB;AAAoBqI,UAAAA,cAAc,EAACjB,CAAnC;AAAqClB,UAAAA,cAAc,EAACtD,CAApD;AAAsD0F,UAAAA,OAAO,EAACxI,CAAC,CAACwI,OAAhE;AAAwExB,UAAAA,OAAO,EAACD;AAAhF,SAAlB;;AAAqG,YAAG/G,CAAC,CAACqI,MAAL,EAAY;AAAC,cAAIjG,CAAC,GAACL,CAAC,CAACuG,SAAF,CAAYtI,CAAC,CAACqI,MAAd,EAAqB9C,CAAC,CAACA,CAAC,CAAC,EAAD,EAAIrF,CAAJ,CAAF,EAAS;AAACqI,YAAAA,cAAc,EAACjB,CAAhB;AAAkBkB,YAAAA,OAAO,EAACxI,CAAC,CAACwI,OAA5B;AAAoCxB,YAAAA,OAAO,EAACD;AAA5C,WAAT,CAAtB,CAAN;AAAsF,iBAAOxG,CAAC,GAAG0C,aAAJ,CAAkB1C,CAAC,GAAG4H,QAAtB,EAA+B,IAA/B,EAAoChI,CAAC,CAACK,CAAD,CAArC,EAAyC4B,CAAC,IAAE,IAA5C,CAAP;AAAyD;;AAAA,eAAOjC,CAAC,CAACK,CAAD,CAAR;AAAY,OAAzR,CAA0RR,CAA1R,CAA1C,CAAtC,GAA8W,KAAK,CAAp1C;AAAs1C,KAA32C,CAA1N,EAAwkDO,CAAC,GAAG0C,aAAJ,CAAkB,KAAlB,EAAwB;AAAC6C,MAAAA,KAAK,EAAC;AAAC4C,QAAAA,aAAa,EAAC;AAAf;AAAP,KAAxB,CAAxkD,CAAtO,EAAu2DnI,CAAC,GAAG0C,aAAJ,CAAkB,KAAlB,EAAwB;AAACK,MAAAA,SAAS,EAAC;AAAX,KAAxB,EAA6E/C,CAAC,GAAG0C,aAAJ,CAAkB,MAAlB,EAAyB;AAACK,MAAAA,SAAS,EAAC,mCAAX;AAA+CqF,MAAAA,QAAQ,EAAC,UAAS3I,CAAT,EAAW;AAAC,YAAGA,CAAC,CAAC4I,cAAF,IAAmB/D,CAAC,IAAE,cAAY,OAAOA,CAA5C,EAA8C;AAAC,cAAGA,CAAC,CAACwC,CAAD,CAAJ,EAAQ;AAAC,gBAAGjG,CAAC,IAAGM,CAAP,EAAS,OAAOA,CAAC,CAAC2F,CAAD,CAAR;AAAY/F,YAAAA,CAAC,CAAC6E,KAAF,CAAQkB,CAAR;AAAW;AAAC,SAAzF,MAA6F;AAAC,cAAGjG,CAAC,IAAGM,CAAP,EAAS,OAAOA,CAAC,CAAC2F,CAAD,CAAR;AAAY/F,UAAAA,CAAC,CAAC6E,KAAF,CAAQkB,CAAR;AAAW;AAAC;AAAnM,KAAzB,EAA8N9G,CAAC,GAAG0C,aAAJ,CAAkB,OAAlB,EAA0B;AAACK,MAAAA,SAAS,EAAC,8BAAX;AAA0CuF,MAAAA,WAAW,EAACjB,CAAtD;AAAwD1G,MAAAA,KAAK,EAACmG,CAA9D;AAAgEyB,MAAAA,QAAQ,EAAC,UAAS9I,CAAT,EAAW;AAAC,eAAO6B,CAAC,CAAC7B,CAAC,CAAC+I,MAAF,CAAS7H,KAAV,CAAR;AAAyB;AAA9G,KAA1B,CAA9N,EAAyWX,CAAC,GAAG0C,aAAJ,CAAkB,QAAlB,EAA2B;AAACK,MAAAA,SAAS,EAAC,iCAAX;AAA6CwC,MAAAA,KAAK,EAACnE;AAAnD,KAA3B,EAAiFpB,CAAC,GAAG0C,aAAJ,CAAkB6B,CAAlB,EAAoB;AAACxB,MAAAA,SAAS,EAAC;AAAX,KAApB,CAAjF,CAAzW,CAA7E,CAAv2D,CAAvE,CAAhB;AAAkhF,GAAl5G;AAAA,QAAm5GqD,CAAC,GAAC,UAAS3G,CAAT,EAAW;AAAC,QAAIE,CAAC,GAACF,CAAC,CAACqC,OAAR;AAAgB,WAAO9B,CAAC,GAAG0C,aAAJ,CAAkB,KAAlB,EAAwB;AAACK,MAAAA,SAAS,EAAC;AAAX,KAAxB,EAA8D/C,CAAC,GAAG0C,aAAJ,CAAkB,IAAlB,EAAuB;AAACK,MAAAA,SAAS,EAAC;AAAX,KAAvB,EAAoE,8BAApE,CAA9D,EAAkK/C,CAAC,GAAG0C,aAAJ,CAAkB,KAAlB,EAAwB;AAACK,MAAAA,SAAS,EAAC;AAAX,KAAxB,EAAwE/C,CAAC,GAAG0C,aAAJ,CAAkBqB,CAAlB,EAAoB;AAACjC,MAAAA,OAAO,EAACnC,CAAT;AAAWqE,MAAAA,UAAU,EAAC,CAAC,CAAvB;AAAyB1B,MAAAA,OAAO,EAAC,CAAC,CAAlC;AAAoCN,MAAAA,EAAE,EAAC,CAAvC;AAAyCmC,MAAAA,YAAY,EAAC;AAACc,QAAAA,eAAe,EAAC;AAAjB,OAAtD;AAA2EhB,MAAAA,QAAQ,EAAC;AAApF,KAApB,CAAxE,CAAlK,EAAwVjE,CAAC,GAAG0C,aAAJ,CAAkB,GAAlB,EAAsB;AAAC+F,MAAAA,IAAI,EAAC,0DAAN;AAAiEC,MAAAA,GAAG,EAAC,qBAArE;AAA2FF,MAAAA,MAAM,EAAC,QAAlG;AAA2GzF,MAAAA,SAAS,EAAC;AAArH,KAAtB,EAA2K,eAA3K,CAAxV,CAAP;AAA4hB,GAA78H;;AAA88H,MAAIuD,CAAC,GAAC,UAAS7G,CAAT,EAAW;AAAC,WAAOA,CAAC,CAACkJ,OAAF,GAAUlJ,CAAC,CAACkJ,OAAZ,GAAoB,EAA3B;AAA8B,GAAhD;AAAA,MAAiDnC,CAAC,GAAC,UAAS/G,CAAT,EAAW;AAAC,QAAG;AAAC,UAAIA,CAAJ;AAAM,KAAV,CAAU,OAAMA,CAAN,EAAQ;AAAC,aAAM,CAAC,CAAP;AAAS;;AAAA,WAAM,CAAC,CAAP;AAAS,GAApG;AAAA,MAAqGiH,CAAC,GAAC,YAAU;AAAC,WAAOA,CAAC,GAACxG,MAAM,CAACuB,MAAP,IAAe,UAAShC,CAAT,EAAW;AAAC,WAAI,IAAIE,CAAJ,EAAMC,CAAC,GAAC,CAAR,EAAUI,CAAC,GAAC0B,SAAS,CAACC,MAA1B,EAAiC/B,CAAC,GAACI,CAAnC,EAAqCJ,CAAC,EAAtC,EAAyC,KAAI,IAAIF,CAAR,IAAaC,CAAC,GAAC+B,SAAS,CAAC9B,CAAD,CAAxB,EAA4BM,MAAM,CAACI,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCb,CAArC,EAAuCD,CAAvC,MAA4CD,CAAC,CAACC,CAAD,CAAD,GAAKC,CAAC,CAACD,CAAD,CAAlD;;AAAuD,aAAOD,CAAP;AAAS,KAAlK,EAAmKiH,CAAC,CAAC9E,KAAF,CAAQ,IAAR,EAAaF,SAAb,CAA1K;AAAkM,GAApT;;AAAqT,QAAMiF,CAAC,GAAC,UAASlH,CAAT,EAAWE,CAAX,EAAa;AAAC,QAAIC,CAAC,GAAC,IAAN;AAAW,SAAKgJ,SAAL,GAAe,UAASnJ,CAAT,EAAWE,CAAX,EAAa;AAAC,UAAIK,CAAC,GAACP,CAAC,CAACoJ,UAAR;AAAA,UAAmBnJ,CAAC,GAACD,CAAC,CAACqJ,UAAvB;AAAA,UAAkC7I,CAAC,GAACR,CAAC,CAACsJ,eAAtC;AAAA,UAAsDvH,CAAC,GAAC/B,CAAC,CAACuJ,KAA1D;AAAgEpJ,MAAAA,CAAC,CAACI,CAAD,CAAD,GAAK;AAAC8H,QAAAA,MAAM,EAACpI,CAAR;AAAUsJ,QAAAA,KAAK,EAACxH,CAAhB;AAAkBuH,QAAAA,eAAe,EAAC9I,CAAlC;AAAoCgJ,QAAAA,WAAW,EAACvC,CAAC,CAAC,EAAD,EAAI/G,CAAJ;AAAjD,OAAL;AAA8D,KAA3J,EAA4J,KAAKoI,SAAL,GAAe,UAAStI,CAAT,EAAWE,CAAX,EAAa;AAAC,UAAIK,CAAC,GAACJ,CAAC,CAACH,CAAD,CAAP;;AAAW,UAAGO,CAAH,EAAK;AAAC,YAAIN,CAAJ;AAAA,YAAMO,CAAC,GAACyG,CAAC,CAACA,CAAC,CAACA,CAAC,CAACA,CAAC,CAAC;AAACsB,UAAAA,cAAc,EAACrI,CAAC,CAACqI;AAAlB,SAAD,EAAmChI,CAAC,CAACiJ,WAArC,CAAF,EAAoD,YAAU,QAAOvJ,CAAC,GAACM,CAAC,CAACgJ,KAAX,CAAV,GAA4BtJ,CAA5B,GAA8B,EAAlF,CAAF,EAAwFE,CAAC,CAACmJ,eAAF,CAAkB/I,CAAC,CAAC+I,eAApB,EAAoCpJ,CAApC,CAAxF,CAAF,EAAkI;AAACuE,UAAAA,QAAQ,EAACtE,CAAC,CAACsE,QAAZ;AAAqB2B,UAAAA,cAAc,EAACjG,CAAC,CAACiG,cAAF,IAAkBlG,CAAC,CAAC8G,OAAxD;AAAgEA,UAAAA,OAAO,EAAC9G,CAAC,CAAC8G,OAA1E;AAAkFhB,UAAAA,KAAK,EAAC9F,CAAxF;AAA0FsI,UAAAA,OAAO,EAACtI,CAAC,CAACsI;AAApG,SAAlI,CAAT;AAAyP,eAAOjI,CAAC,CAAC8H,MAAF,CAAS7H,CAAT,KAAa,IAApB;AAAyB;AAAC,KAA7d,EAA8d,KAAK8I,eAAL,GAAqB,UAAStJ,CAAT,EAAWE,CAAX,EAAa;AAAC,UAAGF,CAAH,EAAK,OAAOA,CAAC,CAACyJ,MAAF,CAAU,UAASzJ,CAAT,EAAWG,CAAX,EAAa;AAAC,eAAOH,CAAC,CAACG,CAAD,CAAD,GAAKD,CAAC,CAACC,CAAD,CAAN,EAAUH,CAAjB;AAAmB,OAA3C,EAA6C,EAA7C,CAAP;AAAwD,KAA9jB,EAA+jB,KAAKyE,QAAL,GAAczE,CAA7kB,EAA+kB,KAAKoG,cAAL,GAAoBlG,CAAnmB;AAAqmB,GAAtoB;;AAAuoB,MAAIkH,CAAC,GAAC,YAAU;AAAC,WAAOA,CAAC,GAAC3G,MAAM,CAACuB,MAAP,IAAe,UAAShC,CAAT,EAAW;AAAC,WAAI,IAAIE,CAAJ,EAAMC,CAAC,GAAC,CAAR,EAAUI,CAAC,GAAC0B,SAAS,CAACC,MAA1B,EAAiC/B,CAAC,GAACI,CAAnC,EAAqCJ,CAAC,EAAtC,EAAyC,KAAI,IAAIF,CAAR,IAAaC,CAAC,GAAC+B,SAAS,CAAC9B,CAAD,CAAxB,EAA4BM,MAAM,CAACI,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCb,CAArC,EAAuCD,CAAvC,MAA4CD,CAAC,CAACC,CAAD,CAAD,GAAKC,CAAC,CAACD,CAAD,CAAlD;;AAAuD,aAAOD,CAAP;AAAS,KAAlK,EAAmKoH,CAAC,CAACjF,KAAF,CAAQ,IAAR,EAAaF,SAAb,CAA1K;AAAkM,GAAnN;AAAA,MAAoNoF,CAAC,GAAC,UAASrH,CAAT,EAAWE,CAAX,EAAaC,CAAb,EAAe;AAAC,QAAGA,CAAC,IAAE,MAAI8B,SAAS,CAACC,MAApB,EAA2B,KAAI,IAAI3B,CAAJ,EAAMN,CAAC,GAAC,CAAR,EAAUO,CAAC,GAACN,CAAC,CAACgC,MAAlB,EAAyBjC,CAAC,GAACO,CAA3B,EAA6BP,CAAC,EAA9B,EAAiC,CAACM,CAAD,IAAIN,CAAC,IAAIC,CAAT,KAAaK,CAAC,KAAGA,CAAC,GAAC0E,KAAK,CAACpE,SAAN,CAAgBqE,KAAhB,CAAsBnE,IAAtB,CAA2Bb,CAA3B,EAA6B,CAA7B,EAA+BD,CAA/B,CAAL,CAAD,EAAyCM,CAAC,CAACN,CAAD,CAAD,GAAKC,CAAC,CAACD,CAAD,CAA5D;AAAiE,WAAOD,CAAC,CAACmF,MAAF,CAAS5E,CAAC,IAAE0E,KAAK,CAACpE,SAAN,CAAgBqE,KAAhB,CAAsBnE,IAAtB,CAA2Bb,CAA3B,CAAZ,CAAP;AAAkD,GAArZ;;AAAsZ,QAAM2B,CAAC,GAAC,UAAS7B,CAAT,EAAW;AAAC,QAAIE,CAAC,GAACF,CAAC,CAAC0J,MAAR;AAAA,QAAezJ,CAAC,GAACD,CAAC,CAACoG,cAAnB;AAAA,QAAkC5F,CAAC,GAACR,CAAC,CAACkG,aAAtC;AAAA,QAAoDnE,CAAC,GAAC/B,CAAC,CAAC8G,cAAxD;AAAA,QAAuE1E,CAAC,GAACpC,CAAC,CAAC2J,6BAA3E;AAAA,QAAyG7G,CAAC,GAAC9C,CAAC,CAAC4J,YAA7G;AAAA,QAA0HtJ,CAAC,GAAC,UAASN,CAAT,EAAWE,CAAX,EAAa;AAAC,UAAIC,CAAC,GAAC,EAAN;;AAAS,WAAI,IAAII,CAAR,IAAaP,CAAb,EAAeS,MAAM,CAACI,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCf,CAArC,EAAuCO,CAAvC,KAA2CL,CAAC,CAAC2J,OAAF,CAAUtJ,CAAV,IAAa,CAAxD,KAA4DJ,CAAC,CAACI,CAAD,CAAD,GAAKP,CAAC,CAACO,CAAD,CAAlE;;AAAuE,UAAG,QAAMP,CAAN,IAAS,cAAY,OAAOS,MAAM,CAACqJ,qBAAtC,EAA4D;AAAC,YAAI7J,CAAC,GAAC,CAAN;;AAAQ,aAAIM,CAAC,GAACE,MAAM,CAACqJ,qBAAP,CAA6B9J,CAA7B,CAAN,EAAsCC,CAAC,GAACM,CAAC,CAAC2B,MAA1C,EAAiDjC,CAAC,EAAlD,EAAqDC,CAAC,CAAC2J,OAAF,CAAUtJ,CAAC,CAACN,CAAD,CAAX,IAAgB,CAAhB,IAAmBQ,MAAM,CAACI,SAAP,CAAiBkJ,oBAAjB,CAAsChJ,IAAtC,CAA2Cf,CAA3C,EAA6CO,CAAC,CAACN,CAAD,CAA9C,CAAnB,KAAwEE,CAAC,CAACI,CAAC,CAACN,CAAD,CAAF,CAAD,GAAQD,CAAC,CAACO,CAAC,CAACN,CAAD,CAAF,CAAjF;AAAyF;;AAAA,aAAOE,CAAP;AAAS,KAAzU,CAA0UH,CAA1U,EAA4U,CAAC,QAAD,EAAU,gBAAV,EAA2B,eAA3B,EAA2C,gBAA3C,EAA4D,+BAA5D,EAA4F,cAA5F,CAA5U,CAA5H;AAAA,QAAqjB+C,CAAC,GAAC,EAAvjB;AAAA,QAA0jBK,CAAC,GAAC,EAA5jB;;AAA+jB,QAAG,CAAClD,CAAD,IAAI,CAACD,CAAL,IAAQ,CAACO,CAAZ,EAAc,OAAM;AAACwJ,MAAAA,kBAAkB,EAACjH,CAAC,GAAC;AAAtB,KAAN;;AAAmJ,QAAIa,CAAC,GAAC,UAAS5D,CAAT,EAAWE,CAAX,EAAa;AAAC,UAAIC,CAAC,GAAC,EAAN;AAAS,aAAOH,CAAC,CAACiK,eAAF,IAAmB9J,CAAC,CAAC+J,IAAF,CAAO,sGAAP,CAAnB,EAAkI/J,CAAzI;AAA2I,KAAlK,CAAmKD,CAAnK,CAAN;;AAA4K,QAAG0D,CAAC,CAAC1B,MAAL,EAAY,OAAM;AAACiI,MAAAA,iBAAiB,EAAC/G,CAAC,GAACQ,CAAC,CAAC6F,MAAF,CAAU,UAASzJ,CAAT,EAAWE,CAAX,EAAa;AAAC,eAAOF,CAAC,GAACE,CAAT;AAAW,OAAnC,EAAqC,EAArC;AAArB,KAAN;;AAAqE,QAAI2D,CAAC,GAAC,CAAC,GAAE1D,CAAC,CAACyE,QAAL,EAAe,EAAf,CAAN;AAAA,QAAyBP,CAAC,GAACR,CAAC,CAAC,CAAD,CAA5B;AAAA,QAAgCS,CAAC,GAACT,CAAC,CAAC,CAAD,CAAnC;AAAA,QAAuCgB,CAAC,GAAC,UAAS7E,CAAT,EAAW;AAAC,aAAOA,CAAC,CAACgG,KAAF,GAAQhG,CAAC,CAACgG,KAAV,GAAgB,EAAvB;AAA0B,KAAtC,CAAuC9F,CAAvC,CAAzC;;AAAmF6B,IAAAA,CAAC,IAAEkD,KAAK,CAACmF,OAAN,CAAcrI,CAAd,CAAH,GAAoB7B,CAAC,CAAC+J,eAAF,GAAkB5C,CAAC,CAAC,EAAD,EAAItF,CAAJ,EAAM,CAAC,CAAP,CAAvC,GAAiD,YAAU,OAAOA,CAAjB,IAAoBgG,OAAO,CAAChG,CAAD,CAA3B,KAAiCK,CAAC,KAAGlC,CAAC,CAAC+J,eAAF,GAAkB,EAArB,CAAlC,CAAjD;AAA6G,QAAInF,CAAJ;AAAA,QAAMS,CAAN;AAAA,QAAQE,CAAR;AAAA,QAAUM,CAAC,GAACxF,CAAC,GAAGqE,QAAJ,CAAawC,CAAC,CAAC;AAAC5C,MAAAA,QAAQ,EAAC6C,CAAC,CAAC,EAAD,EAAInH,CAAC,CAAC+J,eAAN,EAAsB,CAAC,CAAvB;AAAX,KAAD,EAAuCpF,CAAvC,CAAd,CAAZ;AAAA,QAAqE8B,CAAC,GAACZ,CAAC,CAAC,CAAD,CAAxE;AAAA,QAA4EkB,CAAC,GAAClB,CAAC,CAAC,CAAD,CAA/E;AAAA,QAAmFlE,CAAC,GAACtB,CAAC,GAAG4G,MAAJ,CAAWR,CAAC,CAACnC,QAAb,CAArF;AAAA,QAA4G8C,CAAC,GAAC/G,CAAC,GAAG4G,MAAJ,EAA9G;AAA2H,KAAC,GAAEhH,CAAC,CAAC4E,SAAL,EAAiB,YAAU;AAAClD,MAAAA,CAAC,CAAC0F,OAAF,GAAUZ,CAAC,CAACnC,QAAZ;AAAqB,KAAjD,GAAoD,CAAC,GAAErE,CAAC,CAAC4E,SAAL,EAAiB,YAAU;AAAChD,MAAAA,CAAC,IAAEkD,KAAK,CAACmF,OAAN,CAAcrI,CAAd,CAAH,IAAqBkF,CAAC,CAAE,UAASjH,CAAT,EAAW;AAAC,eAAOoH,CAAC,CAACA,CAAC,CAAC,EAAD,EAAIpH,CAAJ,CAAF,EAAS;AAACwE,UAAAA,QAAQ,EAACzC;AAAV,SAAT,CAAR;AAA+B,OAA7C,CAAtB;AAAsE,KAAlG,EAAoG,EAApG,CAApD,EAA4J,CAAC,GAAE5B,CAAC,CAAC4E,SAAL,EAAiB,YAAU;AAAC,aAAO,YAAU;AAAC,YAAI/E,CAAJ;;AAAM,YAAG8C,CAAC,IAAE,cAAY,OAAOA,CAAzB,EAA2B;AAAC,cAAI5C,CAAC,GAAC,UAAQF,CAAC,GAAC,QAAMqE,CAAN,GAAQ,KAAK,CAAb,GAAeA,CAAC,CAACkD,OAA3B,KAAqC,KAAK,CAAL,KAASvH,CAA9C,GAAgD,KAAK,CAArD,GAAuDA,CAAC,CAACqK,SAAF,CAAYC,QAAZ,EAA7D;AAAoF,cAAG,CAACjG,CAAC,CAACkD,OAAN,EAAc;AAAOzE,UAAAA,CAAC,CAACjB,CAAC,CAAC0F,OAAH,EAAWrH,CAAX,CAAD;AAAe;AAAC,OAA7K;AAA8K,KAA1M,EAA4M,CAACmE,CAAC,CAACkD,OAAH,CAA5M,CAA5J,EAAqX,CAAC,GAAEpH,CAAC,CAAC4E,SAAL,EAAiB,YAAU;AAACuC,MAAAA,CAAC,CAACC,OAAF,GAAUZ,CAAV;AAAY,KAAxC,EAA0C,CAACA,CAAD,CAA1C,CAArX;AAAoa,QAAIvF,CAAC,GAACnB,CAAN;AAAA,QAAQ0B,CAAC,GAACnB,CAAV;AAAY,WAAOuG,CAAC,CAAC3F,CAAD,CAAD,IAAM2F,CAAC,CAACpF,CAAD,CAAP,IAAYmD,CAAC,GAAC,IAAI7E,CAAJ,CAAMqB,CAAN,EAAQ2F,CAAR,EAAUzF,CAAV,EAAY8F,CAAC,CAACC,OAAd,EAAsB7F,CAAtB,EAAwBpB,CAAxB,CAAF,EAA6BiF,CAAC,GAAC,IAAI2B,CAAJ,CAAMD,CAAN,EAAQnC,CAAR,CAA/B,EAA0CW,CAAC,GAAC,IAAIjF,CAAJ,CAAMsE,CAAN,EAAQwC,CAAC,CAACC,OAAV,CAA5C,EAA+DV,CAAC,CAAC3G,CAAD,CAAD,CAAKqK,OAAL,CAAc,UAASvK,CAAT,EAAW;AAAC,aAAO,QAAMuF,CAAN,GAAQ,KAAK,CAAb,GAAeA,CAAC,CAAC4D,SAAF,CAAYnJ,CAAZ,EAAcM,CAAd,CAAtB;AAAuC,KAAjE,CAA3E,KAAiJwE,CAAC,GAAC7E,CAAF,EAAIwF,CAAC,GAACjF,CAAN,EAAQ+E,CAAC,GAAC,IAAI2B,CAAJ,CAAMD,CAAN,EAAQ,IAAR,CAAV,EAAwBJ,CAAC,CAAC3G,CAAD,CAAD,CAAKqK,OAAL,CAAc,UAASvK,CAAT,EAAW;AAAC,aAAO,QAAMuF,CAAN,GAAQ,KAAK,CAAb,GAAeA,CAAC,CAAC4D,SAAF,CAAYnJ,CAAZ,EAAcM,CAAd,CAAtB;AAAuC,KAAjE,CAAzK,GAA8O;AAAC2F,MAAAA,cAAc,EAACV,CAAhB;AAAkBiF,MAAAA,UAAU,EAAC1F,CAA7B;AAA+B2F,MAAAA,WAAW,EAAChF,CAA3C;AAA6CuE,MAAAA,kBAAkB,EAACjH,CAAhE;AAAkEoH,MAAAA,iBAAiB,EAAC/G,CAApF;AAAsF4C,MAAAA,KAAK,EAACW,CAA5F;AAA8FlC,MAAAA,QAAQ,EAACwC,CAAvG;AAAyGP,MAAAA,sBAAsB,EAACpC,CAAhI;AAAkIoG,MAAAA,cAAc,EAACtJ,CAAjJ;AAAmJuJ,MAAAA,aAAa,EAAChJ;AAAjK,KAArP;AAAyZ,GAArnE;;AAAsnE,MAAI2F,CAAC,GAAC,YAAU;AAAC,WAAOA,CAAC,GAAC7G,MAAM,CAACuB,MAAP,IAAe,UAAShC,CAAT,EAAW;AAAC,WAAI,IAAIE,CAAJ,EAAMC,CAAC,GAAC,CAAR,EAAUI,CAAC,GAAC0B,SAAS,CAACC,MAA1B,EAAiC/B,CAAC,GAACI,CAAnC,EAAqCJ,CAAC,EAAtC,EAAyC,KAAI,IAAIF,CAAR,IAAaC,CAAC,GAAC+B,SAAS,CAAC9B,CAAD,CAAxB,EAA4BM,MAAM,CAACI,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCb,CAArC,EAAuCD,CAAvC,MAA4CD,CAAC,CAACC,CAAD,CAAD,GAAKC,CAAC,CAACD,CAAD,CAAlD;;AAAuD,aAAOD,CAAP;AAAS,KAAlK,EAAmKsH,CAAC,CAACnF,KAAF,CAAQ,IAAR,EAAaF,SAAb,CAA1K;AAAkM,GAAnN;;AAAoN,QAAMb,CAAC,GAAC,UAASpB,CAAT,EAAW;AAAC,QAAIE,CAAC,GAACF,CAAC,CAACoG,cAAR;AAAA,QAAuBjG,CAAC,GAACH,CAAC,CAACkG,aAA3B;AAAA,QAAyCjG,CAAC,GAACD,CAAC,CAAC0J,MAA7C;AAAA,QAAoDlJ,CAAC,GAACR,CAAC,CAACsG,UAAxD;AAAA,QAAmEvE,CAAC,GAAC/B,CAAC,CAACwG,eAAvE;AAAA,QAAuFpE,CAAC,GAACpC,CAAC,CAAC4J,YAA3F;AAAA,QAAwGlI,CAAC,GAAC1B,CAAC,CAAC8G,cAA5G;AAAA,QAA2HtF,CAAC,GAACxB,CAAC,CAAC2J,6BAA/H;AAAA,QAA6J7G,CAAC,GAAC9C,CAAC,CAAC4G,qBAAjK;AAAA,QAAuLtG,CAAC,GAACN,CAAC,CAACyG,SAA3L;AAAA,QAAqM1D,CAAC,GAAC,UAAS/C,CAAT,EAAWE,CAAX,EAAa;AAAC,UAAIC,CAAC,GAAC,EAAN;;AAAS,WAAI,IAAII,CAAR,IAAaP,CAAb,EAAeS,MAAM,CAACI,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCf,CAArC,EAAuCO,CAAvC,KAA2CL,CAAC,CAAC2J,OAAF,CAAUtJ,CAAV,IAAa,CAAxD,KAA4DJ,CAAC,CAACI,CAAD,CAAD,GAAKP,CAAC,CAACO,CAAD,CAAlE;;AAAuE,UAAG,QAAMP,CAAN,IAAS,cAAY,OAAOS,MAAM,CAACqJ,qBAAtC,EAA4D;AAAC,YAAI7J,CAAC,GAAC,CAAN;;AAAQ,aAAIM,CAAC,GAACE,MAAM,CAACqJ,qBAAP,CAA6B9J,CAA7B,CAAN,EAAsCC,CAAC,GAACM,CAAC,CAAC2B,MAA1C,EAAiDjC,CAAC,EAAlD,EAAqDC,CAAC,CAAC2J,OAAF,CAAUtJ,CAAC,CAACN,CAAD,CAAX,IAAgB,CAAhB,IAAmBQ,MAAM,CAACI,SAAP,CAAiBkJ,oBAAjB,CAAsChJ,IAAtC,CAA2Cf,CAA3C,EAA6CO,CAAC,CAACN,CAAD,CAA9C,CAAnB,KAAwEE,CAAC,CAACI,CAAC,CAACN,CAAD,CAAF,CAAD,GAAQD,CAAC,CAACO,CAAC,CAACN,CAAD,CAAF,CAAjF;AAAyF;;AAAA,aAAOE,CAAP;AAAS,KAAzU,CAA0UH,CAA1U,EAA4U,CAAC,gBAAD,EAAkB,eAAlB,EAAkC,QAAlC,EAA2C,YAA3C,EAAwD,iBAAxD,EAA0E,cAA1E,EAAyF,gBAAzF,EAA0G,+BAA1G,EAA0I,uBAA1I,EAAkK,WAAlK,CAA5U,CAAvM;AAAA,QAAmsBoD,CAAC,GAACvB,CAAC,CAACyF,CAAC,CAAC;AAACoC,MAAAA,MAAM,EAACzJ,CAAR;AAAUmG,MAAAA,cAAc,EAAClG,CAAzB;AAA2BgG,MAAAA,aAAa,EAAC/F,CAAzC;AAA2C2G,MAAAA,cAAc,EAACpF,CAA1D;AAA4DkI,MAAAA,YAAY,EAACxH,CAAzE;AAA2EuH,MAAAA,6BAA6B,EAACnI;AAAzG,KAAD,EAA6GuB,CAA7G,CAAF,CAAtsB;AAAA,QAAyzBa,CAAC,GAACR,CAAC,CAAC4G,kBAA7zB;AAAA,QAAg1BnG,CAAC,GAACT,CAAC,CAAC+G,iBAAp1B;AAAA,QAAs2B9F,CAAC,GAACjB,CAAC,CAACsH,cAA12B;AAAA,QAAy3BpG,CAAC,GAAClB,CAAC,CAACuH,aAA73B;AAAA,QAA24B9F,CAAC,GAACzB,CAAC,CAAC6C,cAA/4B;AAAA,QAA85BnB,CAAC,GAAC1B,CAAC,CAACoH,UAAl6B;AAAA,QAA66BjF,CAAC,GAACnC,CAAC,CAACqH,WAAj7B;AAAA,QAA67BhF,CAAC,GAACrC,CAAC,CAAC4C,KAAj8B;AAAA,QAAu8Ba,CAAC,GAACzD,CAAC,CAACqB,QAA38B;AAAA,QAAo9BwC,CAAC,GAAC7D,CAAC,CAACsD,sBAAx9B;;AAA++B,QAAG9C,CAAH,EAAK,OAAOrD,CAAC,GAAG0C,aAAJ,CAAkB0D,CAAlB,EAAoB;AAACtE,MAAAA,OAAO,EAACuB;AAAT,KAApB,CAAP;AAAwC,QAAGC,CAAC,CAAC3B,MAAL,EAAY,OAAO3B,CAAC,GAAG0C,aAAJ,CAAkB0D,CAAlB,EAAoB;AAACtE,MAAAA,OAAO,EAACwB;AAAT,KAApB,CAAP;;AAAwC,QAAIqD,CAAC,GAAC,UAASlH,CAAT,EAAW;AAAC,aAAOA,CAAC,CAAC0E,YAAF,GAAe1E,CAAC,CAAC0E,YAAjB,GAA8B,EAArC;AAAwC,KAApD,CAAqDzE,CAArD,CAAN;AAAA,QAA8DmH,CAAC,GAAC,UAASpH,CAAT,EAAW;AAAC,aAAOA,CAAC,CAACqD,gBAAF,GAAmBrD,CAAC,CAACqD,gBAArB,GAAsC,EAA7C;AAAgD,KAA5D,CAA6DpD,CAA7D,CAAhE;AAAA,QAAgIoH,CAAC,GAAC,UAASrH,CAAT,EAAW;AAAC,aAAOA,CAAC,CAACqG,OAAF,GAAUrG,CAAC,CAACqG,OAAZ,GAAoB,KAA3B;AAAiC,KAA7C,CAA8CpG,CAA9C,CAAlI;AAAA,QAAmLmB,CAAC,GAAC,UAASpB,CAAT,EAAW;AAAC,aAAOA,CAAC,CAACuG,cAAF,GAAiBvG,CAAC,CAACuG,cAAnB,GAAkC,EAAzC;AAA4C,KAAxD,CAAyDtG,CAAzD,CAArL;;AAAiP,WAAO8G,CAAC,CAAC1C,CAAD,CAAD,IAAM0C,CAAC,CAACzC,CAAD,CAAP,GAAW/D,CAAC,GAAG0C,aAAJ,CAAkB8C,CAAlB,EAAoB;AAACC,MAAAA,KAAK,EAACP,CAAP;AAAShB,MAAAA,QAAQ,EAACoC,CAAlB;AAAoBZ,MAAAA,cAAc,EAACpB,CAAnC;AAAqCuB,MAAAA,cAAc,EAACtB,CAApD;AAAsDoB,MAAAA,aAAa,EAACX,CAApE;AAAsEgB,MAAAA,cAAc,EAACnF,CAArF;AAAuFiC,MAAAA,gBAAgB,EAACiE,CAAC,CAAC,EAAD,EAAIF,CAAJ,CAAzG;AAAgHf,MAAAA,OAAO,EAACgB,CAAxH;AAA0H3C,MAAAA,YAAY,EAAC4C,CAAC,CAAC,EAAD,EAAIJ,CAAJ,CAAxI;AAA+IZ,MAAAA,UAAU,EAAC9F,CAA1J;AAA4JgG,MAAAA,eAAe,EAACzE,CAA5K;AAA8K2E,MAAAA,sBAAsB,EAACO,CAArM;AAAuMR,MAAAA,SAAS,EAACnG,CAAjN;AAAmNwG,MAAAA,cAAc,EAACpF,CAAlO;AAAoOkF,MAAAA,qBAAqB,EAAC9D;AAA1P,KAApB,CAAX,GAA6RvC,CAAC,GAAG0C,aAAJ,CAAkBoB,CAAlB,EAAoB;AAACI,MAAAA,QAAQ,EAACoC,CAAV;AAAYxF,MAAAA,oBAAoB,EAACC;AAAjC,KAApB,EAAwDf,CAAC,GAAG0C,aAAJ,CAAkBqB,CAAlB,EAAoB,IAApB,EAAyB/D,CAAC,GAAG0C,aAAJ,CAAkB8C,CAAlB,EAAoB;AAACC,MAAAA,KAAK,EAACP,CAAP;AAAShB,MAAAA,QAAQ,EAACoC,CAAlB;AAAoBZ,MAAAA,cAAc,EAACpB,CAAnC;AAAqCuB,MAAAA,cAAc,EAAC/B,CAApD;AAAsD6B,MAAAA,aAAa,EAAC5B,CAApE;AAAsEiC,MAAAA,cAAc,EAACnF,CAArF;AAAuFiC,MAAAA,gBAAgB,EAACiE,CAAC,CAAC,EAAD,EAAIF,CAAJ,CAAzG;AAAgHf,MAAAA,OAAO,EAACgB,CAAxH;AAA0H3C,MAAAA,YAAY,EAAC4C,CAAC,CAAC,EAAD,EAAIJ,CAAJ,CAAxI;AAA+IZ,MAAAA,UAAU,EAAC9F,CAA1J;AAA4JgG,MAAAA,eAAe,EAACzE,CAA5K;AAA8K2E,MAAAA,sBAAsB,EAACO,CAArM;AAAuMR,MAAAA,SAAS,EAACnG,CAAjN;AAAmNwG,MAAAA,cAAc,EAACpF,CAAlO;AAAoOkF,MAAAA,qBAAqB,EAAC9D;AAA1P,KAApB,CAAzB,CAAxD,CAApS;AAAyoB,GAA99D;AAAA,QAA+9DnB,CAAC,GAACP,CAAj+D;;AAAm+DwJ,EAAAA,MAAM,CAACC,OAAP,GAAe3K,CAAf;AAAiB,CAA9tf","sourcesContent":["(()=>{\"use strict\";var e={n:t=>{var r=t&&t.__esModule?()=>t.default:()=>t;return e.d(r,{a:r}),r},d:(t,r)=>{for(var a in r)e.o(r,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:r[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})}},t={};e.r(t),e.d(t,{Chatbot:()=>B,createChatBotMessage:()=>i,createClientMessage:()=>u,createCustomMessage:()=>l,default:()=>H,useChatbot:()=>T});const r=require(\"react\");var a=e.n(r);const n=require(\"react-conditionally-render\");var o=e.n(n),s=function(){return s=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},s.apply(this,arguments)},c=function(e,t){return{message:e,type:t,id:Math.round(Date.now()*Math.random())}},i=function(e,t){return s(s(s({},c(e,\"bot\")),t),{loading:!0})},l=function(e,t,r){return s(s({},c(e,t)),r)},u=function(e,t){return s(s({},c(e,\"user\")),t)},m=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(e)return e.apply(void 0,t)};function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},d.apply(this,arguments)}const g=({styles:e={},...t})=>a().createElement(\"svg\",d({xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 512 512\"},t),a().createElement(\"path\",{d:\"M256 288c79.5 0 144-64.5 144-144S335.5 0 256 0 112 64.5 112 144s64.5 144 144 144zm128 32h-55.1c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16H128C57.3 320 0 377.3 0 448v16c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48v-16c0-70.7-57.3-128-128-128z\"})),f=function(e){var t=e.message,r=e.customComponents;return a().createElement(\"div\",{className:\"react-chatbot-kit-user-chat-message-container\"},a().createElement(o(),{condition:!!r.userChatMessage,show:m(r.userChatMessage,{message:t}),elseShow:a().createElement(\"div\",{className:\"react-chatbot-kit-user-chat-message\"},t,a().createElement(\"div\",{className:\"react-chatbot-kit-user-chat-message-arrow\"}))}),a().createElement(o(),{condition:!!r.userAvatar,show:m(r.userAvatar),elseShow:a().createElement(\"div\",{className:\"react-chatbot-kit-user-avatar\"},a().createElement(\"div\",{className:\"react-chatbot-kit-user-avatar-container\"},a().createElement(g,{className:\"react-chatbot-kit-user-avatar-icon\"})))}))},h=function(){return a().createElement(\"div\",{className:\"react-chatbot-kit-chat-bot-avatar\"},a().createElement(\"div\",{className:\"react-chatbot-kit-chat-bot-avatar-container\"},a().createElement(\"p\",{className:\"react-chatbot-kit-chat-bot-avatar-letter\"},\"B\")))},p=function(){return a().createElement(\"div\",{className:\"chatbot-loader-container\"},a().createElement(\"svg\",{id:\"dots\",width:\"50px\",height:\"21px\",viewBox:\"0 0 132 58\",version:\"1.1\",xmlns:\"http://www.w3.org/2000/svg\"},a().createElement(\"g\",{stroke:\"none\",fill:\"none\"},a().createElement(\"g\",{id:\"chatbot-loader\",fill:\"#fff\"},a().createElement(\"circle\",{id:\"chatbot-loader-dot1\",cx:\"25\",cy:\"30\",r:\"13\"}),a().createElement(\"circle\",{id:\"chatbot-loader-dot2\",cx:\"65\",cy:\"30\",r:\"13\"}),a().createElement(\"circle\",{id:\"chatbot-loader-dot3\",cx:\"105\",cy:\"30\",r:\"13\"})))))};var v=function(){return v=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},v.apply(this,arguments)};const y=function(e){var t=e.message,n=e.withAvatar,s=void 0===n||n,c=e.loading,i=e.messages,l=e.customComponents,u=e.setState,d=e.customStyles,g=e.delay,f=e.id,y=(0,r.useState)(!1),b=y[0],w=y[1];(0,r.useEffect)((function(){var e;return function(t,r){var a=750;g&&(a+=g),e=setTimeout((function(){var e=function(e,t,r){if(r||2===arguments.length)for(var a,n=0,o=t.length;n<o;n++)!a&&n in t||(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}([],t,!0).find((function(e){return e.id===f}));e&&(e.loading=!1,e.delay=void 0,r((function(t){var r=t.messages,a=r.findIndex((function(e){return e.id===f}));return r[a]=e,v(v({},t),{messages:r})})))}),a)}(i,u),function(){clearTimeout(e)}}),[g,f]),(0,r.useEffect)((function(){g?setTimeout((function(){return w(!0)}),g):w(!0)}),[g]);var E={backgroundColor:\"\"},P={borderRightColor:\"\"};return d&&(E.backgroundColor=d.backgroundColor,P.borderRightColor=d.backgroundColor),a().createElement(o(),{condition:b,show:a().createElement(\"div\",{className:\"react-chatbot-kit-chat-bot-message-container\"},a().createElement(o(),{condition:s,show:a().createElement(o(),{condition:!!(null==l?void 0:l.botAvatar),show:m(null==l?void 0:l.botAvatar),elseShow:a().createElement(h,null)})}),a().createElement(o(),{condition:!!(null==l?void 0:l.botChatMessage),show:m(null==l?void 0:l.botChatMessage,{message:t,loader:a().createElement(p,null)}),elseShow:a().createElement(\"div\",{className:\"react-chatbot-kit-chat-bot-message\",style:E},a().createElement(o(),{condition:c,show:a().createElement(p,null),elseShow:a().createElement(\"span\",null,t)}),a().createElement(o(),{condition:s,show:a().createElement(\"div\",{className:\"react-chatbot-kit-chat-bot-message-arrow\",style:P})}))}))})};function b(){return b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},b.apply(this,arguments)}const w=({styles:e={},...t})=>a().createElement(\"svg\",b({xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 512 512\"},t),a().createElement(\"path\",{d:\"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z\"}));var E=function(){return E=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},E.apply(this,arguments)},P=function(e,t,r){if(r||2===arguments.length)for(var a,n=0,o=t.length;n<o;n++)!a&&n in t||(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))};const S=function(e){var t=e.state,n=e.setState,s=e.widgetRegistry,i=e.messageParser,l=e.parse,u=e.customComponents,m=e.actionProvider,d=e.botName,g=e.customStyles,h=e.headerText,p=e.customMessages,v=e.placeholderText,b=e.validator,S=e.setMessageContainerRef,O=e.disableScrollToBottom,M=e.messageHistory,k=e.actions,C=t.messages,N=(0,r.useRef)(null),x=(0,r.useState)(\"\"),j=x[0],T=x[1],A=function(){setTimeout((function(){var e;N.current&&(N.current.scrollTop=null===(e=null==N?void 0:N.current)||void 0===e?void 0:e.scrollHeight)}),50)};(0,r.useEffect)((function(){O||A()})),(0,r.useEffect)((function(){S(N)}),[N.current]);var B=function(){n((function(e){return E(E({},e),{messages:P(P([],e.messages,!0),[c(j,\"user\")],!1)})})),A(),T(\"\")},H={backgroundColor:\"\"};g&&g.chatButton&&(H.backgroundColor=g.chatButton.backgroundColor);var I=\"Conversation with \"+d;h&&(I=h);var R=\"Write your message here\";return v&&(R=v),a().createElement(\"div\",{className:\"react-chatbot-kit-chat-container\"},a().createElement(\"div\",{className:\"react-chatbot-kit-chat-inner-container\"},a().createElement(o(),{condition:!!u.header,show:u.header&&u.header(m),elseShow:a().createElement(\"div\",{className:\"react-chatbot-kit-chat-header\"},I)}),a().createElement(\"div\",{className:\"react-chatbot-kit-chat-message-container\",ref:N},a().createElement(o(),{condition:\"string\"==typeof M&&Boolean(M),show:a().createElement(\"div\",{dangerouslySetInnerHTML:{__html:M}})}),C.map((function(e,r){return\"bot\"===e.type?a().createElement(a().Fragment,{key:e.id},function(e,r){var c;c=e.withAvatar?e.withAvatar:function(e,t){if(0===t)return!0;var r=e[t-1];return!(\"bot\"===r.type&&!r.widget)}(C,r);var i=E(E({},e),{setState:n,state:t,customComponents:u,widgetRegistry:s,messages:C,actions:k});if(e.widget){var l=s.getWidget(i.widget,E(E({},t),{scrollIntoView:A,payload:e.payload,actions:k}));return a().createElement(a().Fragment,null,a().createElement(y,E({customStyles:g.botMessageBox,withAvatar:c},i,{key:e.id})),a().createElement(o(),{condition:!i.loading,show:l||null}))}return a().createElement(y,E({customStyles:g.botMessageBox,key:e.id,withAvatar:c},i,{customComponents:u,messages:C,setState:n}))}(e,r)):\"user\"===e.type?a().createElement(a().Fragment,{key:e.id},function(e){var r=s.getWidget(e.widget,E(E({},t),{scrollIntoView:A,payload:e.payload,actions:k}));return a().createElement(a().Fragment,null,a().createElement(f,{message:e.message,key:e.id,customComponents:u}),r||null)}(e)):function(e,t){return!!t[e.type]}(e,p)?a().createElement(a().Fragment,{key:e.id},function(e){var r=p[e.type],o={setState:n,state:t,scrollIntoView:A,actionProvider:m,payload:e.payload,actions:k};if(e.widget){var c=s.getWidget(e.widget,E(E({},t),{scrollIntoView:A,payload:e.payload,actions:k}));return a().createElement(a().Fragment,null,r(o),c||null)}return r(o)}(e)):void 0})),a().createElement(\"div\",{style:{paddingBottom:\"15px\"}})),a().createElement(\"div\",{className:\"react-chatbot-kit-chat-input-container\"},a().createElement(\"form\",{className:\"react-chatbot-kit-chat-input-form\",onSubmit:function(e){if(e.preventDefault(),b&&\"function\"==typeof b){if(b(j)){if(B(),l)return l(j);i.parse(j)}}else{if(B(),l)return l(j);i.parse(j)}}},a().createElement(\"input\",{className:\"react-chatbot-kit-chat-input\",placeholder:R,value:j,onChange:function(e){return T(e.target.value)}}),a().createElement(\"button\",{className:\"react-chatbot-kit-chat-btn-send\",style:H},a().createElement(w,{className:\"react-chatbot-kit-chat-btn-send-icon\"}))))))},O=function(e){var t=e.message;return a().createElement(\"div\",{className:\"react-chatbot-kit-error\"},a().createElement(\"h1\",{className:\"react-chatbot-kit-error-header\"},\"Ooops. Something is missing.\"),a().createElement(\"div\",{className:\"react-chatbot-kit-error-container\"},a().createElement(y,{message:t,withAvatar:!0,loading:!1,id:1,customStyles:{backgroundColor:\"\"},messages:[]})),a().createElement(\"a\",{href:\"https://fredrikoseberg.github.io/react-chatbot-kit-docs/\",rel:\"noopener norefferer\",target:\"_blank\",className:\"react-chatbot-kit-error-docs\"},\"View the docs\"))};var M=function(e){return e.widgets?e.widgets:[]},k=function(e){try{new e}catch(e){return!1}return!0},C=function(){return C=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},C.apply(this,arguments)};const N=function(e,t){var r=this;this.addWidget=function(e,t){var a=e.widgetName,n=e.widgetFunc,o=e.mapStateToProps,s=e.props;r[a]={widget:n,props:s,mapStateToProps:o,parentProps:C({},t)}},this.getWidget=function(e,t){var a=r[e];if(a){var n,o=C(C(C(C({scrollIntoView:t.scrollIntoView},a.parentProps),\"object\"==typeof(n=a.props)?n:{}),r.mapStateToProps(a.mapStateToProps,t)),{setState:r.setState,actionProvider:r.actionProvider||t.actions,actions:t.actions,state:t,payload:t.payload});return a.widget(o)||null}},this.mapStateToProps=function(e,t){if(e)return e.reduce((function(e,r){return e[r]=t[r],e}),{})},this.setState=e,this.actionProvider=t};var x=function(){return x=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},x.apply(this,arguments)},j=function(e,t,r){if(r||2===arguments.length)for(var a,n=0,o=t.length;n<o;n++)!a&&n in t||(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))};const T=function(e){var t=e.config,n=e.actionProvider,o=e.messageParser,s=e.messageHistory,c=e.runInitialMessagesWithHistory,m=e.saveMessages,d=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var n=0;for(a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]])}return r}(e,[\"config\",\"actionProvider\",\"messageParser\",\"messageHistory\",\"runInitialMessagesWithHistory\",\"saveMessages\"]),g=\"\",f=\"\";if(!t||!n||!o)return{configurationError:g=\"I think you forgot to feed me some props. Did you remember to pass a config, a messageparser and an actionprovider?\"};var h=function(e,t){var r=[];return e.initialMessages||r.push(\"Config must contain property 'initialMessages', and it expects it to be an array of chatbotmessages.\"),r}(t);if(h.length)return{invalidPropsError:f=h.reduce((function(e,t){return e+t}),\"\")};var p=(0,r.useState)({}),v=p[0],y=p[1],b=function(e){return e.state?e.state:{}}(t);s&&Array.isArray(s)?t.initialMessages=j([],s,!0):\"string\"==typeof s&&Boolean(s)&&(c||(t.initialMessages=[]));var w,E,P,S=a().useState(x({messages:j([],t.initialMessages,!0)},b)),O=S[0],C=S[1],T=a().useRef(O.messages),A=a().useRef();(0,r.useEffect)((function(){T.current=O.messages})),(0,r.useEffect)((function(){s&&Array.isArray(s)&&C((function(e){return x(x({},e),{messages:s})}))}),[]),(0,r.useEffect)((function(){return function(){var e;if(m&&\"function\"==typeof m){var t=null===(e=null==v?void 0:v.current)||void 0===e?void 0:e.innerHTML.toString();if(!v.current)return;m(T.current,t)}}}),[v.current]),(0,r.useEffect)((function(){A.current=O}),[O]);var B=n,H=o;return k(B)&&k(H)?(w=new n(i,C,u,A.current,l,d),E=new N(C,w),P=new o(w,A.current),M(t).forEach((function(e){return null==E?void 0:E.addWidget(e,d)}))):(w=n,P=o,E=new N(C,null),M(t).forEach((function(e){return null==E?void 0:E.addWidget(e,d)}))),{widgetRegistry:E,actionProv:w,messagePars:P,configurationError:g,invalidPropsError:f,state:O,setState:C,setMessageContainerRef:y,ActionProvider:B,MessageParser:H}};var A=function(){return A=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},A.apply(this,arguments)};const B=function(e){var t=e.actionProvider,r=e.messageParser,n=e.config,o=e.headerText,s=e.placeholderText,c=e.saveMessages,l=e.messageHistory,u=e.runInitialMessagesWithHistory,m=e.disableScrollToBottom,d=e.validator,g=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var n=0;for(a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]])}return r}(e,[\"actionProvider\",\"messageParser\",\"config\",\"headerText\",\"placeholderText\",\"saveMessages\",\"messageHistory\",\"runInitialMessagesWithHistory\",\"disableScrollToBottom\",\"validator\"]),f=T(A({config:n,actionProvider:t,messageParser:r,messageHistory:l,saveMessages:c,runInitialMessagesWithHistory:u},g)),h=f.configurationError,p=f.invalidPropsError,v=f.ActionProvider,y=f.MessageParser,b=f.widgetRegistry,w=f.actionProv,E=f.messagePars,P=f.state,M=f.setState,C=f.setMessageContainerRef;if(h)return a().createElement(O,{message:h});if(p.length)return a().createElement(O,{message:p});var N=function(e){return e.customStyles?e.customStyles:{}}(n),x=function(e){return e.customComponents?e.customComponents:{}}(n),j=function(e){return e.botName?e.botName:\"Bot\"}(n),B=function(e){return e.customMessages?e.customMessages:{}}(n);return k(v)&&k(y)?a().createElement(S,{state:P,setState:M,widgetRegistry:b,actionProvider:w,messageParser:E,customMessages:B,customComponents:A({},x),botName:j,customStyles:A({},N),headerText:o,placeholderText:s,setMessageContainerRef:C,validator:d,messageHistory:l,disableScrollToBottom:m}):a().createElement(v,{setState:M,createChatBotMessage:i},a().createElement(y,null,a().createElement(S,{state:P,setState:M,widgetRegistry:b,actionProvider:v,messageParser:y,customMessages:B,customComponents:A({},x),botName:j,customStyles:A({},N),headerText:o,placeholderText:s,setMessageContainerRef:C,validator:d,messageHistory:l,disableScrollToBottom:m})))},H=B;module.exports=t})();"]},"metadata":{},"sourceType":"script"}